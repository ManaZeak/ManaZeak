<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta content="ie=edge" http-equiv="x-ua-compatible">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="initial-scale=1" name="viewport">
    <meta content="Register to this ManaZeak instance using an invitation code. Learn more about ManaZeak ; https://github.com/ManaZeak/ManaZeak"
          name="description">
    <title th:text="#{auth.register.title}"></title>
    <link href="static/img/logo/manazeak-logo-square.svg" rel="icon" type="image/png">
    <link href="static/dist/css/auth.bundle.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="mzk-user">
    <img src="static/img/logo/manazeak-text.svg" alt="manazeak-text-logo">
    <p th:utext="#{auth.register.header}"></p>
    <!-- Intellij doesn't detect the controller filling the model. The type of object in the for is this. -->
    <!--/*@thymesVar id="user" type="org.manazeak.manazeak.entity.dto.user.NewUserDto"*/-->
    <form method="POST" th:object="${user}">
        <!-- Account username field (128 char) and specific errors -->
        <label for="username-input" th:text="#{auth.register.username}"></label>
        <p class="error" th:each="error : ${#fields.errors('username')}" th:text="${error}">Validation error</p>
        <input id="username-input" maxlength="128" th:errorClass="'error'" th:field="*{username}" type="text"/>
        <!-- Invite code from an already registered user field (16 char) and specific errors -->
        <label for="inviteCode-input" th:text="#{auth.register.invitecode}"></label>
        <p class="error" th:each="error : ${#fields.errors('inviteCode')}" th:text="${error}">Validation error</p>
        <input id="inviteCode-input" maxlength="32" th:errorClass="'error'" th:field="*{inviteCode}" type="text"/>
        <!-- Account password field (256 char) and specific errors -->
        <label for="password-one-input" th:text="#{auth.register.passwordone}"></label>
        <p class="error" th:each="error : ${#fields.errors('password1')}" th:text="${error}">Validation error</p>
        <input id="password-one-input" maxlength="256" th:errorClass="'error'" th:field="*{password1}" type="password"/>
        <!-- Confirm password field (256 char) and specific errors -->
        <label for="password-two-input" th:text="#{auth.register.passwordtwo}"></label>
        <p class="error" th:each="error : ${#fields.errors('password2')}" th:text="${error}">Validation error</p>
        <input id="password-two-input" maxlength="256" th:errorClass="'error'" th:field="*{password2}" type="password"/>
        <!-- Global form errors -->
        <p class="global-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}">register error</p>
        <!-- Required csrf token from session cookies -->
        <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
        <button th:text="#{auth.register.submit}" type="submit"></button>
    </form>
    <p th:utext="#{auth.register.footer}"></p>
</div>
</body>
</html>
