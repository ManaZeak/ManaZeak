<div xmlns:th="http://www.thymeleaf.org" class="album-view-wrapper">
  <!--/*@thymesVar id="album" type="org.manazeak.manazeak.entity.dto.library.album.AlbumDetailsDto"*/-->
  <!--/*@thymesVar id="compilationType" type="org.manazeak.manazeak.constant.tag.CompilationTypeEnum"*/-->
  <div class="album-container">
    <div class="album-aside">
      <div th:replace="~{/include/album/albumPictureFragment.html :: albumPictureDisplay (*{album.cover}, orig)}"></div>
      <h1 th:text="*{album.title}" id="album-title"></h1>
      <em><p th:text="#{view.album.performers}"></p></em>
      <div id="album-performers" class="artists-small">
        <div th:each="performer : ${album.performers}" th:attr="data-id=*{performer.id}" class="artist">
          <div th:replace="~{/include/artist/artistPictureFragment.html :: artistPictureDisplay (*{performer.cover}, tiny)}"></div>
          <p class="artist-name" th:text="*{performer.name}"></p>
        </div>
      </div>
      <!-- Displaying the type of release. -->
      <div th:if="*{compilationType == T(org.manazeak.manazeak.constant.tag.CompilationTypeEnum).REGULAR}">
        <p>REG</p>
      </div>
      <div th:if="*{compilationType == T(org.manazeak.manazeak.constant.tag.CompilationTypeEnum).COMPILATION}">
        <p>COMP</p>
      </div>
      <div th:if="*{compilationType == T(org.manazeak.manazeak.constant.tag.CompilationTypeEnum).MIX}">
        <p>MIX</p>
      </div>
      <div th:if="*{compilationType == T(org.manazeak.manazeak.constant.tag.CompilationTypeEnum).VARIOUS_ARTIST}">
        <p>VA</p>
      </div>
    </div>
    <div class="album-content">
      <div class="album-info">
        <h2>
          <span th:text="*{album.albumArtist}" th:attr="data-id=*{album.albumArtistId}" id="release-artist" class="link"></span>&nbsp;–
          <span th:text="*{album.title}"></span>
        </h2>
        <p>
          <span th:text="*{album.totalTrack}"></span>&nbsp;Track(s),
          <span th:text="*{album.duration}" id="album-duration"></span>&nbsp;–
          <span th:text="#{view.album.released_on}"></span>
          <span th:text="*{album.releaseDate}" id="album-release-date"></span>
        </p>
        <p>
          <span th:text="*{album.labelName}" th:attr="data-id=*{album.labelId}" id="album-label" class="link"></span>
          <span th:text="*{album.catalogNumber}"></span>
          <span th:text="*{album.eanUpn}"></span>
        </p>
        <div id="release-artist-container" class="release-artist-container">
          <div th:replace="~{/include/artist/artistPictureFragment.html :: artistPictureDisplay (*{album.albumArtistPicture}, small)}"></div>
        </div>
        <div class="view-commands">
          <div id="queue-album" class="queue-album" >
            <img src="/static/img/player/queue.svg" alt="queue-album">
          </div>
          <img src="/static/img/navigation/nav-down.svg" id="album-expand-all" alt="album-expand-all">
          <img src="/static/img/navigation/nav-up.svg" id="album-collapse-all" alt="album-collapse-all">
        </div>
      </div>
      <div id="album-tracks" class="album">
        <div th:each="track : *{album.tracks}" th:attr="data-id=*{track.trackId},data-mood=*{track.mood}" class="track">
          <div class="track-info">
            <p th:text="*{track.title}" class="track-title"></p>
            <p class="toggle-track-expand">
              <img src="/static/img/navigation/nav-down.svg" class="toggle-track-expand-img" alt="toggle-track-expand">
            </p>
            <p th:text="*{track.duration}" class="track-duration"></p>
            <p class="track-performers">
              <span th:each="performer : *{track.performers}" th:text="*{performer.name}" th:attr="data-id=*{performer.id}"></span>
            </p>
          </div>
          <div class="track-detailed-info">
            <div class="txt-column">
              <div>
                <span>Composed by :</span>
                <p class="track-composers">
                  <span th:each="composer : *{track.composers}" th:text="*{composer.name}" th:attr="data-id=*{composer.id}"></span>
                </p>
              </div>
              <div>
                <span>Genre(s) / Style(s) :</span>
                <p class="track-genres">
                  <span th:each="genre : *{track.genres}" th:text="*{genre.name}" th:attr="data-id=*{genre.genreId}"></span>
                </p>
              </div>
              <div>
                <span>BPM & Key :</span>
                <p class="track-bpm-key">
                  <span th:text="*{track.bpm}"></span>
                  <span th:each="key : *{track.keys}" th:text="*{key.key}"></span>
                </p>
              </div>
            </div>
            <div class="txt-column">
              <div>
                <span>Lyricist :</span>
                <p class="track-lyricists">
                  <span th:each="lyricist : *{track.lyricists}" th:text="*{lyricist.name}" th:attr="data-id=*{lyricist.id}"></span>
                </p>
              </div>
              <div>
                <span>Produced by :</span>
                <p class="track-producers">
                  <span th:each="producer : *{track.producers}" th:text="*{producer.name}" th:attr="data-id=*{producer.id}"></span>
                </p>
              </div>
              <div>
                <span>Engineer :</span>
                <p class="track-engineers">
                  <span th:each="engineer : *{track.engineers}" th:text="*{engineer.name}"  th:attr="data-id=*{engineer.id}"></span>
                </p>
              </div>
              <div>
                <span>ISRC</span>
                <p class="track-isrc">
                  <span th:text="*{track.isrc}"></span>
                </p>
              </div>
            </div>
          </div>
          <img th:src='*{"/resources/moods/hd/"+track.mood}' class="track-moodbar"> <!-- No alt because we want to avoid feedback on 404 -->
        </div>
      </div>
    </div>
  </div>
</div>
