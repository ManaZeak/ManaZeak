{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./static/js/Start.js","webpack:///./static/js/core/Komunikator.js","webpack:///./static/js/core/Mzk.js","webpack:///./static/js/core/Player.js","webpack:///./static/js/core/User.js","webpack:///./static/js/model/Collection.js","webpack:///./static/js/model/Model.js","webpack:///./static/js/model/Playlist.js","webpack:///./static/js/utils/Errors.js","webpack:///./static/js/utils/Notification.js","webpack:///./static/js/utils/ScrollBar.js","webpack:///./static/js/utils/Shortcut.js","webpack:///./static/js/utils/Utils.js","webpack:///./static/js/view/View.js","webpack:///./static/js/view/footbar/FootBar.js","webpack:///./static/js/view/footbar/components/ProgressBar.js","webpack:///./static/js/view/footbar/components/VolumeBar.js","webpack:///./static/js/view/maincontainer/Aside.js","webpack:///./static/js/view/maincontainer/AsideEntry.js","webpack:///./static/js/view/maincontainer/views/ListView.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoC;AACE;AACI;AACQ;;AAEnB;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,uDAAK;AACxB,oBAAoB,wDAAM;AAC1B,sBAAsB,0DAAQ;AAC9B,0BAA0B,8DAAY;;AAEtC,qDAAqD,kBAAkB,oDAAG,GAAG,YAAY,EAAE;;;;;;;;;;;;;ACxB3F;AAAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wDAAwD,kBAAkB;AAC1E,qDAAqD;AACrD,uDAAuD;AACvD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,0BAA0B;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,0BAA0B;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;;AAEe,0EAAW,EAAC;;;;;;;;;;;;;ACvE3B;AAAA;AAAA;AAAA;AAAA;AAA0C;AACd;AACS;AACH;;AAElC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,sCAAsC;;AAEtC;AACA,mBAAmB,yBAAyB,EAAE;AAC9C,mBAAmB,yBAAyB,EAAE;AAC9C,mBAAmB,0BAA0B,EAAE;AAC/C,mBAAmB,yBAAyB,EAAE;AAC9C,mBAAmB,6BAA6B,EAAE;AAClD;;AAEA;AACA;AACA,6BAA6B,uDAAW,EAAE,uCAAuC;AACjF;AACA,KAAK;AACL;;AAEA;AACA;AACA,sBAAsB,gDAAI;AAC1B;AACA,2BAA2B,sCAAsC,WAAW,EAAE;AAC9E,6BAA6B,+BAA+B,YAAY,EAAE;AAC1E,KAAK;AACL;;AAEA;AACA,+BAA+B;AAC/B,sBAAsB,kBAAkB;AACxC,YAAY,mBAAmB,4HAA4H,EAAE;AAC7J;;AAEA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,iBAAiB,WAAW,EAAE,EAAE;AACvD,OAAO;AACP;;AAEA;AACA;AACA,uBAAuB,uDAAK;AAC5B;AACA,KAAK;AACL;;AAEA;AACA;AACA,sBAAsB,qDAAI;AAC1B;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA,mBAAmB,8DAA8D,EAAE;AACnF;;AAEA;AACA;AACA,mBAAmB,6DAA6D,EAAE;AAClF;;AAEA;AACA;AACA,mBAAmB,4DAA4D,EAAE;AACjF;;AAEA;;AAEA,UAAU,mBAAmB;;AAE7B,YAAY,qBAAqB;;AAEjC;AACA;AACA,mBAAmB,qFAAqF,EAAE;AAC1G;;AAEA;AACA;AACA,mBAAmB,qFAAqF,EAAE;AAC1G;;AAEA;AACA;AACA,mBAAmB,qFAAqF,EAAE;AAC1G;;AAEA,gBAAgB,4CAA4C;AAC5D,eAAe,+BAA+B;;AAE9C,uBAAuB,uDAAuD;;AAE9E;;AAEA,iBAAiB,6CAA6C;;AAE9D;AACA;AACA,mBAAmB,gEAAgE,EAAE;AACrF;;AAEA;AACA;AACA,mBAAmB,gEAAgE,EAAE;AACrF;;AAEA;AACA,wBAAwB;AACxB;AACA,2CAA2C;AAC3C,+CAA+C;AAC/C;;AAEA;;AAEA;AACA;AACA;AACA,qDAAqD,0BAA0B,0BAA0B,EAAE;AAC3G,mDAAmD,0BAA0B,yBAAyB,EAAE;AACxG,+CAA+C,0BAA0B,yBAAyB,EAAE;AACpG,6CAA6C,0BAA0B,wBAAwB,EAAE;AACjG,0CAA0C,0BAA0B,0BAA0B,EAAE;AAChG,wCAAwC,0BAA0B,yBAAyB,EAAE;AAC7F;;AAEA;;AAEA;AACA;AACA,2BAA2B,uCAAuC,EAAE;AACpE,2BAA2B,+BAA+B,EAAE;AAC5D;AACA;;AAEe,kEAAG,EAAC;;;;;;;;;;;;;ACzKnB;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,qBAAqB;AACrB,wBAAwB;AACxB,0BAA0B;;AAE1B,eAAe;AACf,iBAAiB;AACjB,iBAAiB;AACjB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,uCAAuC;AACvC,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;AACtE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD,qCAAqC;AACrC,sCAAsC;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,oGAAoG;AACpG,2FAA2F;AAC3F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,uCAAuC,kBAAkB,QAAQ,EAAE;;AAEnE,wBAAwB,gBAAgB,EAAE;AAC1C,yBAAyB,kBAAkB,EAAE;;AAE7C,wEAAwE;AACxE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,kCAAkC,kBAAkB,QAAQ,EAAE;;AAE9D,mBAAmB,aAAa,kBAAkB,QAAQ,EAAE;AAC5D,kBAAkB,WAAW,EAAE;;AAE/B,sBAAsB;AACtB,iBAAiB;AACjB,yBAAyB;AACzB;AACA;;AAEA,uDAAuD;AACvD,qCAAqC;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,kDAAkD;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,yCAAyC;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA,kBAAkB;AAClB;AACA,iCAAiC,QAAQ,EAAE;;AAE3C;AACA,uEAAuE;AACvE,gBAAgB;AAChB,cAAc;AACd;;AAEA,yBAAyB,aAAa,EAAE;AACxC,0BAA0B;AAC1B,mEAAmE;AACnE,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,0BAA0B;AAC1B,uBAAuB;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,2BAA2B;AAC3B,wBAAwB;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,2BAA2B;AAC3B,wBAAwB;AACxB,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,wBAAwB;AACxB,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,yBAAyB;AACzB,2DAA2D;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,gCAAgC;AAChC,eAAe;AACf;AACA;;AAEA;;AAEA,iBAAiB,wBAAwB;AACzC,eAAe,sBAAsB;AACrC,cAAc,qBAAqB;AACnC,gBAAgB,4BAA4B;AAC5C,gBAAgB,8BAA8B;AAC9C,mBAAmB,iCAAiC;;AAEpD,0BAA0B,+BAA+B;AACzD,mBAAmB,wBAAwB;;AAE3C,cAAc,wCAAwC;;AAEtD;;AAEe,qEAAM,EAAC;;;;;;;;;;;;;AC9UtB;AAAA;AAAA;AAAwD;AACL;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,aAAa,gBAAgB;AAC7B,kBAAkB,qBAAqB;AACvC,sBAAsB,sBAAsB;AAC5C,qBAAqB,kCAAkC,wBAAwB,EAAE,OAAO,aAAa;AACrG,wBAAwB,2BAA2B;AACnD,wBAAwB,2BAA2B;;AAEnD;;AAEe,mEAAI,EAAC;;;;;;;;;;;;;AC5CpB;AAAA;AAAoC;;AAEpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,oDAAQ;AACrC,mBAAmB,qDAAqD;;AAExE;AACA;;AAEA;AACA,0CAA0C,QAAQ;;AAElD;AACA,0BAA0B,2CAA2C,sBAAsB;AAC3F,YAAY,kCAAkC;AAC9C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,yBAAyB,EAAE;AACpD,0BAA0B,+BAA+B;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,wBAAwB,EAAE;AACzD,OAAO;AACP;AACA;;AAEe,yEAAU,EAAC;;;;;;;;;;;;;AC/D1B;AAAA;AAAA;AAAsC;AACE;;AAExC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,uDAAM;AAC7B,2BAA2B,sDAAU;AACrC,yBAAyB,iCAAiC;AAC1D;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,iCAAiC;AAChD,eAAe,qBAAqB;AACpC,mBAAmB,yBAAyB;AAC5C;;AAEe,oEAAK,EAAC;;;;;;;;;;;;;AC/GrB;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEe,uEAAQ,EAAC;;;;;;;;;;;;;ACbxB;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAkD,mBAAmB;AACrE,qDAAqD,mBAAmB;AACxE,mDAAmD,mBAAmB;AACtE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,8BAA8B,QAAQ,IAAI,6BAA6B;;AAEvE,gCAAgC,uBAAuB,KAAK,MAAM;;AAElE,+DAA+D;AAC/D,4DAA4D;;AAE5D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;;AAErC;AACA,qCAAqC;AACrC,2CAA2C;AAC3C;AACA,KAAK;AACL,qCAAqC;AACrC,+CAA+C;AAC/C,6CAA6C;AAC7C;;AAEA,mCAAmC,OAAO;AAC1C;AACA;;AAEe,qEAAM,EAAC;;;;;;;;;;;;;ACpFtB;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO,4CAA4C,WAAW,aAAa,cAAc;AACpG,WAAW,OAAO,oCAAoC,QAAQ,MAAM,OAAO,MAAM;AACjF,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA,mBAAmB,qDAAqD;;AAExE,+BAA+B;AAC/B,iBAAiB;AACjB,oBAAoB;AACpB,mBAAmB;AACnB,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO,4CAA4C,WAAW,aAAa,cAAc;AACpG,WAAW,OAAO,oCAAoC,QAAQ,MAAM,OAAO,MAAM;AACjF,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,4CAA4C;AAC5C,oDAAoD;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,+JAA+J;AAC/J;AACA;AACA,mDAAmD;AACnD;;AAEA,qLAAqL;AACrL;AACA;AACA,yDAAyD;AACzD;;AAEA,gFAAgF;AAChF;AACA;AACA,mDAAmD;AACnD;;AAEA,8DAA8D;AAC9D;AACA;AACA,uDAAuD;AACvD;;AAEA,kFAAkF;AAClF;AACA;AACA,qDAAqD;AACrD;;AAEA,0CAA0C;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA,mBAAmB,mEAAmE;;AAEtF;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,GAAG;;AAEH,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gDAAgD;AAChD,gEAAgE;AAChE;AACA;AACA,GAAG;;;AAGH,yBAAyB;AACzB;AACA;AACA;;AAEA,+CAA+C;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,mBAAmB,qEAAqE;;AAExF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA,mBAAmB,kEAAkE;;AAErF;AACA;AACA;;AAEA;AACA,gDAAgD;;AAEhD,8BAA8B;AAC9B,4BAA4B;;AAE5B;AACA;AACA,qCAAqC;AACrC,IAAI,yBAAyB;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA,mBAAmB,iEAAiE;;AAEpF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,sBAAsB;AACtB;AACA;AACA;AACA;;AAEA;AACA,uCAAuC;AACvC,WAAW;AACX;;AAEA,qDAAqD;AACrD,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA,mBAAmB,mEAAmE;;AAEtF,+BAA+B;AAC/B;AACA;;AAEA,wCAAwC;AACxC;AACA;;AAEA;AACA;;AAEA,uBAAuB;AACvB;AACA;;AAEA;AACA;;AAEA,sBAAsB;AACtB;AACA,wDAAwD;;AAExD,8CAA8C;AAC9C,2DAA2D;AAC3D,qDAAqD;AACrD;;AAEA,sDAAsD;AACtD,kCAAkC;AAClC;;AAEA,WAAW;AACX;;AAEA,sDAAsD;AACtD,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA,mBAAmB,oFAAoF;;AAEvG,8BAA8B;;AAE9B,mEAAmE,4DAA4D;;AAE/H;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA,mBAAmB,oFAAoF;;AAEvG;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA,mBAAmB,yEAAyE;;AAE5F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA,mBAAmB,8EAA8E;;AAEjG;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA,mBAAmB,yEAAyE;;AAE5F,8CAA8C;;AAE9C;AACA;AACA,oCAAoC;AACpC,GAAG,yBAAyB;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA,mBAAmB,0EAA0E;;AAE7F;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA,mBAAmB,gEAAgE;;AAEnF;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA,0CAA0C;AAC1C,0CAA0C;AAC1C,kCAAkC;AAClC,YAAY;AACZ;AACA;;AAEA,0DAA0D;AAC1D,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA,mBAAmB,kEAAkE;;AAErF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC;AACvC,kCAAkC;AAClC,qCAAqC;AACrC,WAAW;AACX;;AAEA,yDAAyD;AACzD,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO,yBAAyB,SAAS,MAAM,SAAS;AACnE,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,mBAAmB,uCAAuC;;AAE1D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA,mBAAmB,wCAAwC;;AAE3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA,mBAAmB,2CAA2C;;AAE9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA,mBAAmB,2CAA2C;;AAE9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA,mBAAmB,yCAAyC;;AAE5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,mBAAmB,qDAAqD;;AAExE,kDAAkD;;AAElD,0CAA0C;AAC1C,6CAA6C;AAC7C;;AAEA,gCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,6CAA6C;;AAEhE;AACA;AACA,+BAA+B;AAC/B,oBAAoB;;AAEpB,iCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO,kBAAkB,MAAM,SAAS,OAAO;AAC1D;AACA;AACA,mBAAmB,8CAA8C;;AAEjE;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,qBAAqB,6BAA6B;AAClD,eAAe,sBAAsB;;AAErC;;AAEe,2EAAY,EAAC;;;;;;;;;;;;;AC/+B5B;AAAA;AACA;AACA;AACA,kCAAkC;AAClC,uBAAuB;AACvB,yBAAyB;AACzB,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,uCAAuC;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,OAAO,GAAG,QAAQ,IAAI,GAAG,UAAU,MAAM,GAAG;AACzF;AACA,KAAK;AACL;AACA;;AAEe,wEAAS,EAAC;;;;;;;;;;;;;AC7FzB;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D;AAC1D,qBAAqB,2BAA2B;AAChD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU;AACV,qBAAqB,4BAA4B;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;;AAEA,eAAe,2BAA2B;AAC1C;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEe,uEAAQ,EAAC;;;;;;;;;;;;;ACxLxB;AAAA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,kBAAkB;;AAE7D,mBAAmB,iBAAiB;AACpC;;AAEA;AACA,gBAAgB;AAChB;;AAEA,gJAAgJ;AAChJ;;AAEA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,8BAA8B,0CAA0C;AACxE,OAAO;AACP;AACA;AACA;AACA;;AAEe,oEAAK,EAAC;;;;;;;;;;;;;ACrFrB;AAAA;AAAA;AAAA;AAA0C;AACE;AACY;;AAExD;AACA;AACA;AACA;;AAEA;AACA,kEAAkE;;AAElE,0BAA0B,+DAAK,EAAE,eAAe;AAChD,2BAA2B,+DAAK,EAAE,gBAAgB;AAClD;;AAEA,uBAAuB,2DAAO;AAC9B,gFAAgF;;AAEhF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAyC;AACzC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA4B;AAC5B,2DAA2D;;AAE3D;AACA;;AAEA,2BAA2B;AAC3B;AACA,KAAK,iBAAiB;AACtB;;AAEA,UAAU;AACV;;AAEA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,wEAAQ;;AAE3B;AACA;;AAEA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,oBAAoB,EAAE;AAClE,4CAA4C,oBAAoB,EAAE;AAClE,4CAA4C,kBAAkB,EAAE;AAChE,4CAA4C,wBAAwB,EAAE;AACtE,4CAA4C,uBAAuB,EAAE;AACrE,4CAA4C,oBAAoB,EAAE;AAClE,4CAA4C,yBAAyB,EAAE;AACvE,4CAA4C,wBAAwB,EAAE;AACtE,4CAA4C,qBAAqB,EAAE;AACnE;;AAEA,uBAAuB,8BAA8B;AACrD;;AAEA,gBAAgB,qBAAqB;AACrC;;AAEe,mEAAI,EAAC;;;;;;;;;;;;;ACnNpB;AAAA;AAAA;AAAiD;AACI;;AAErD;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0BAA0B,gEAAS;AACnC,4BAA4B,kEAAW;AACvC;;AAEA;AACA,yDAAyD,kBAAkB,EAAE;AAC7E,yDAAyD,oBAAoB,EAAE;AAC/E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,oBAAoB,0BAA0B;AAC9C,kBAAkB,wBAAwB;AAC1C;;AAEe,sEAAO,EAAC;;;;;;;;;;;;;AChDvB;AAAA;;AAEA;AACA,sBAAsB,cAAc,WAAW,aAAa,WAAW,WAAW,aAAa,UAAU,WAAW,GAAG;AACvH;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iDAAiD;AACjD;AACA;;AAEA;AACA,iDAAiD;AACjD;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAA6B,kBAAkB;AAC/C,6BAA6B,gBAAgB;;AAE7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C;AAC7C;AACA;;AAEA,qDAAqD;AACrD;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B,cAAc;AACzC,6BAA6B,gBAAgB;;AAE7C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,kBAAkB;AACzB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wFAAwF;AACxF,qEAAqE;AACrE;;AAEA;AACA;AACA;AACA,sFAAsF;AACtF,mEAAmE;AACnE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B;AAC7B;AACA,OAAO,kBAAkB;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,2BAA2B;AACrD,gCAAgC,iCAAiC;AACjE,8BAA8B,+BAA+B;AAC7D;;AAEe,0EAAW,EAAC;;;;;;;;;;;;;ACnO3B;AAAA;;AAEA;AACA,oBAAoB,UAAU,aAAa,eAAe,aAAa,WAAW;AAClF;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sDAAsD;AACtD,4DAA4D;AAC5D;AACA,6BAA6B,kBAAkB;AAC/C,2BAA2B,gBAAgB;AAC3C;AACA;AACA;;AAEA;AACA,2CAA2C,qBAAqB,EAAE;AAClE,YAAY,uCAAuC,EAAE;;AAErD;AACA,qCAAqC;AACrC;AACA,OAAO,QAAQ;AACf;;AAEA;AACA;AACA;AACA,+EAA+E,+DAA+D;AAC9I,2CAA2C;AAC3C,YAAY,+DAA+D;AAC3E;AACA,6DAA6D,YAAY,EAAE;AAC3E;AACA;AACA;AACA;;AAEA,EAAiB,wEAAS,EAAC;;;;;;;;;;;;;AC/G3B;AAAA;AAAwC;;AAExC;;AAEA;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,kCAAkC;;AAElC;AACA;;AAEA,8BAA8B,iBAAiB;AAC/C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEe,oEAAK,EAAC;;;;;;;;;;;;;AClDrB;AAAA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,YAAY,uBAAuB;AACnC;;AAEe,yEAAU,EAAC;;;;;;;;;;;;;ACnB1B;AAAA;AAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa,aAAa,YAAY,eAAe,aAAa;;AAEnF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gDAAgD;;AAEhD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;;AAEA;AACA,iEAAiE;AACjE;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qEAAqE;;AAErE,mBAAmB,0BAA0B,OAAO;AACpD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oGAAoG;AACpG,iFAAiF;AACjF;;AAEA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2BAA2B;AAC3B;AACA;;AAEA,yCAAyC;;AAEzC;AACA;;AAEA;AACA,oCAAoC;AACpC;;AAEA;AACA;;AAEA;AACA,4BAA4B;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA,uBAAuB,2CAA2C;AAClE,yBAAyB,yDAAyD;AAClF,2BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,cAAc,OAAO;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,mBAAmB,2CAA2C;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,yBAAyB,OAAO;AACnD;AACA;AACA;;AAEA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,0BAA0B,2DAAS,EAAE,8BAA8B;AACnE,oEAAoE;AACpE;;AAEA;AACA,iCAAiC;;AAEjC,mBAAmB,0BAA0B,OAAO;AACpD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,mBAAmB,0BAA0B;AAC7C,qBAAqB,mCAAmC;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA,qBAAqB,2CAA2C;AAChE;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,QAAQ;AAClD;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,2CAA2C;AAC9D,qBAAqB,yDAAyD;AAC9E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mCAAmC;;AAEnC,qBAAqB,0BAA0B,OAAO;AACtD,kCAAkC,yDAAyD;AAC3F;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,mCAAmC;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,uBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA,iEAAiE;AACjE;;AAEA,mBAAmB,mBAAmB,OAAO;AAC7C;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;;AAEA;AACA,4BAA4B,2DAAS,EAAE,8BAA8B;AACrE,sEAAsE;AACtE;AACA;AACA;;AAEe,uEAAQ,EAAC","file":"manazeak.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./static/js/Start.js\");\n","import Utils from './utils/Utils.js'\nimport Errors from './utils/Errors.js'\nimport Shortcut from './utils/Shortcut.js'\nimport Notification from './utils/Notification.js'\n\nimport Mzk from './core/Mzk.js'\n\nlet errorsOptions = {\n  verbose: true,\n  trace: true\n};\n\nlet notificationOptions = {\n    thickBorder: 'top',\n    duration:    4000,\n    transition:  200,\n    maxActive:   3\n};\n\nwindow.Utils = new Utils();\nwindow.Errors = new Errors(errorsOptions);\nwindow.Shortcut = new Shortcut();\nwindow.Notification = new Notification(notificationOptions);\n\ndocument.addEventListener('DOMContentLoaded', () => { window.mzk = new Mzk(); mzk.init(); });\n","class Komunikator {\n\n\tconstructor(options) {\n\t\tthis._csrfToken = 3;\n\t\tthis._csrfToken = options.csrfToken;\n\t\tthis._headers = [];\n\n\t\tthis._init();\n\t}\n\n\t_init() {\n\t\tthis._headers.push(['Content-Type', 'application/json; charset=UTF-8']); // this._headers[0]\n\t\tthis._headers.push(['Accept', 'application/json']); // this._headers[1]\n\t\tthis._headers.push(['X-CSRFToken', this._csrfToken]); // this._headers[2]\n\t}\n\n\tget(url) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet options = {\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: new Headers([ this._headers[0] ])\n\t\t\t};\n\n\t\t\tfetch(url, options)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.ok) { resolve(response.json()); }\n\n\t\t\t\t\telse {\n\t\t\t\t\t\tswitch(response.status) {\n\t\t\t\t\t\t\tcase 404:\n\t\t\t\t\t\t\t\treject('URL_NOT_FOUND');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tpost(url, data) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet options = {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: new Headers(this._headers), // POST needs all previously defined headers\n\t\t\t\tbody: JSON.stringify(data)\n\t\t\t};\n\n\t\t\tfetch(url, options)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.ok) { resolve(response.json()); }\n\n\t\t\t\t\telse {\n\t\t\t\t\t\tswitch(response.status) {\n\t\t\t\t\t\t\tcase 403:\n\t\t\t\t\t\t\t\treject('ACCESS_FORBIDDEN');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 404:\n\t\t\t\t\t\t\t\treject('URL_NOT_FOUND');\n\t\t\t\t\t\t\tcase 500:\n\t\t\t\t\t\t\t\treject('INTERNAL_ERROR');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport default Komunikator;\n","import Komunikator from './Komunikator.js'\nimport User from './User.js'\nimport Model from '../model/Model.js'\nimport View from '../view/View.js'\n\nclass Mzk {\n\n  constructor() {\n    this.cookies = {};\n    this.komunikator = {};\n    this.user = {};\n    this.lang = {}\n    this.model = {};\n    this.view = {};\n  }\n\n  //  --------------------------------  SESSION INITIALIZATION  ---------------------------------  //\n\n  init() {\n    this.cookies = Utils.getCookies(); // Get user cookies\n\n    this._initKomunikator()\n      .then(() => { return this._initLang(); })\n      .then(() => { return this._initUser(); })\n      .then(() => { return this._initModel(); })\n      .then(() => { return this._initView(); })\n      .then(() => { return this._initShortcut(); });\n  }\n\n  _initKomunikator() {\n    return new Promise(resolve => {\n      this.komunikator = new Komunikator({ csrfToken: this.cookies['csrftoken'] });\n      resolve();\n    });\n  }\n\n  _initUser() {\n    return new Promise((resolve, reject) => {\n      this.user = new User();\n      this.komunikator.get('user/getInformation/')\n        .then(userInfo => { this.user.updateProperties(userInfo); resolve(); })\n        .catch(errorCode => { Errors.raise(errorCode, true); resolve() }); // TODO : catch reject over this promise\n    });\n  }\n\n  _initLang() {\n    let checkLang = (lang) => { // In case language JSON can not be fetched, we raise a manual notification only.\n      if (lang.DONE) { this.lang = lang; }\n      else { Notification.new({ type: 'error', title: 'Unable to load language', message: 'Something went wrong, languages settings can not be received.' }); }\n    };\n\n    return new Promise(resolve => {\n      let options = {\n        LANG: (navigator.language || navigator.userLanguage)\n      }\n\n      this.komunikator.post('language/', options)\n        .then(lang => { checkLang(lang); resolve(); }); // Errors can not be catched since language failed loading.\n      });\n  }\n\n  _initModel() {\n    return new Promise(resolve => {\n      this.model = new Model();\n      resolve();\n    });\n  }\n\n  _initView() {\n    return new Promise(resolve => {\n      this.view = new View();\n      resolve();\n    });\n  }\n\n  _initShortcut() {\n    return new Promise(resolve => {\n      this.reloadShortcuts();\n      resolve();\n    });\n  }\n\n//  --------------------------------  PLAYBACK METHODS  ---------------------------------  //\n\n  changeTrack(id) {\n    // TODO : get Track from id via Komunikator\n    this.model.changeTrack((id === 5) ? '../static/101 - 501 - Black and Blue.flac' : 'http://static.kevvv.in/sounds/callmemaybe.mp3')\n      .then(() => { this.view.changeTrack(this.model.getPlayer().getIsPlaying()); });\n  }\n\n  togglePlay() {\n    this.model.togglePlay()\n      .then(() => { this.view.togglePlay(this.model.getPlayer().getIsPlaying()); });\n  }\n\n  stopPlayback() {\n    this.model.stopPlayback()\n      .then(() => { this.view.stopPlayback(this.model.getPlayer().hasSource()); });\n  }\n\n//  --------------------------------  VOLUME METHODS  ---------------------------------  //\n\n  mute() { this.model.mute(); }\n\n  unmute() { this.model.unmute(); }\n\n  toggleMute() {\n    this.model.toggleMute()\n      .then(() => { this.view.updateVolume(this.model.getPlayer().getIsMuted(), this.model.getVolume()); });\n  }\n\n  adjustVolume(amount) {\n    this.model.adjustVolume(amount)\n      .then(() => { this.view.updateVolume(this.model.getPlayer().getIsMuted(), this.model.getVolume()); });\n  }\n\n  setVolume(volume) {\n    this.model.setVolume(volume)\n      .then(() => { this.view.updateVolume(this.model.getPlayer().getIsMuted(), this.model.getVolume()); });\n  }\n\n  getIsMuted() { return this.model.getPlayer().getIsMuted(); }\n  getVolume() { return this.model.getVolume(); }\n\n  showHideVolumeBar() { this.view.getFootBar().getVolumeBar().startShowHide(); }\n\n//  --------------------------------  PROGRESS METHODS  ---------------------------------  //\n\n  getProgress() { return this.model.getPlayer().getProgress(); }\n\n  adjustProgress(amount) {\n    this.model.adjustProgress(amount)\n      .then(() => { this.view.updateProgress(this.model.getPlayer().getProgress()); });\n  }\n\n  setProgress(progress) {\n    this.model.setProgress(progress)\n      .then(() => { this.view.updateProgress(this.model.getPlayer().getProgress()); });\n  }\n\n  trackEnded() {\n    this.stopPlayback(); // Only when no repetition is set and end of pl is reached TODO\n    // TODO repeat value to get here\n//    this.model.getPlayer().repeatTrack(); // Repeat one\n// If repeat off ->  this.model.stopPlayback(); .then( this.view.restoreDefault();\n  }\n\n//  --------------------------------  SHORTCUTS METHODS  ---------------------------------  //\n\n  reloadShortcuts() {\n    Shortcut.removeAll();\n    // TODO : get from komunikator user bindings\n    Shortcut.register('Ctrl+Shift+ArrowDown', () => { this.showHideVolumeBar(); this.adjustVolume(-0.25); });\n    Shortcut.register('Ctrl+Shift+ArrowUp', () => { this.showHideVolumeBar(); this.adjustVolume(0.25); });\n    Shortcut.register('Ctrl+ArrowDown', () => { this.showHideVolumeBar(); this.adjustVolume(-0.1); });\n    Shortcut.register('Ctrl+ArrowUp', () => { this.showHideVolumeBar(); this.adjustVolume(0.1); });\n    Shortcut.register('ArrowDown', () => { this.showHideVolumeBar(); this.adjustVolume(-0.01); });\n    Shortcut.register('ArrowUp', () => { this.showHideVolumeBar(); this.adjustVolume(0.01); });\n  }\n\n  //  --------------------------------  COLLECTION METHODS  ---------------------------------  //\n\n  getCollection() {\n    this.komunikator.get('playlist/fetchAll/')\n      .then(collection => { this.model.initCollection(collection); })\n      .catch(errorCode => { Errors.raise(errorCode, true); });\n  }\n}\n\nexport default Mzk;\n","class Player {\n\t/**\n\t* @summary Basic audio HTML music player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Provide a few features to control a playback. Should be handled in a controller\n\t**/\n\tconstructor() {\n\t\tthis._player = {}; // HTML audio player\n\t\tthis._volume = 0.0; // Volume in range [0, 1] float\n\t\tthis._isMuted = false; // Mute flag\n\t\tthis._isPlaying = false; // Playback flag\n\n\t\tthis._init(); // Init player object\n\t\tthis._events(); // Listen to events\n\t\tthis._attach(); // Attach HTML audio tag to the DOM\n\t}\n\n\t//  --------------------------------  PRIVATE METHODS  --------------------------------  //\n\n\t/**\n\t* @method\n\t* @name _init\n\t* @private\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Build player tag and set loop/volume values\n\t**/\n\t_init() {\n\t\tthis._player = document.createElement('AUDIO'); // Create HTML audio tag\n\t\tthis._player.id = 'mzk-audio-player'; // Assign player ID\n\t\tthis.setVolume(1); // Initialize volume to its maximum value TODO : get value from options, from user settings in localStorage\n\t}\n\n\t/**\n\t* @method\n\t* @name _event\n\t* @private\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Listen to ended track event on audio player\n\t**/\n\t_events() {\n\t\tthis._player.addEventListener('ended', this._trackEnded.bind(this)); // Handle track end playback event\n\t}\n\n\t/**\n\t* @method\n\t* @name _attach\n\t* @private\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Append audio player to the DOM using a fragment\n\t**/\n\t_attach() {\n\t\tlet fragment = document.createDocumentFragment(); // Fragment creation\n\t\tfragment.appendChild(this._player); // Append audio player to the fragment\n\t\tdocument.body.appendChild(fragment); // Append fragment to the document body\n\t}\n\n\t/**\n\t* @method\n\t* @name _getProgress\n\t* @private\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Compute and returns the current track progression in the player\n\t* @returns {number} The track progression in completion percentage in range [0, 100]\n\t**/\n\t_getProgress() {\n\t\t// console.log(Utils.precisionRound((this._player.currentTime * 100) / this._player.duration, 3)); // TODO test this by calling mzk.getProgress on mzk start to check that if called when no track is load, it trully returns 0\n\t\treturn Utils.precisionRound((this._player.currentTime * 100) / this._player.duration, 3); // Compute percentage from current time\n\t}\n\n\t/**\n\t* @method\n\t* @name _setProgress\n\t* @private\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Set progression percentage on current track\n\t* @param {number} percentage - The progression percentage in range [0, 100]\n\t**/\n\t_setProgress(percentage) {\n\t\tif (typeof percentage !== 'number') { console.log('a'); return; } // Bad format for value\n\n\t\tif (percentage <= 0) { percentage = 0; } // Bound lower value\n\t\tif (percentage > 100) { percentage = 100; } // Bound upper value\n\n\t\tthis._player.currentTime = (percentage * this._player.duration) / 100; // Apply percentage to total duration\n\t}\n\n\t/**\n\t* @method\n\t* @name _setVolume\n\t* @private\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Set the player volume according to the given value.\n\t* @param {number} value - The volume value to set in range [0, 1]\n\t**/\n\t_setVolume(value) {\n\t\tif (typeof value !== 'number') { console.log('a'); return; } // Bad format for value\n\n\t\tif (value <= 0) { this.mute(); this._volume = 0; return; } // Bound lower value\n\t\tif (value > 1) { value = 1; } // Bound upper value\n\n\t\tif (this._isMuted) { // Restore mute state if needed\n\t\t\tthis.unmute(); // Un mute playback\n\t\t\tthis.setVolume(value); // Call again setVolume with previous value\n\t\t\treturn;\n\t\t}\n\n\t\tthis._player.volume = Utils.precisionRound(value, 2); // Assign new volume value (truncated with 2 decimals)\n\t\tthis._volume = this._player.volume; // Store old volume value\n\t}\n\n\t/**\n\t* @method\n\t* @name _trackEnded\n\t* @private\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Action to take when the current track reaches its end\n\t**/\n\t_trackEnded() {\n\t\tthis._isPlaying = false; // Update playling state\n\t\tmzk.trackEnded();\n\t}\n\n\t//  --------------------------------  PUBLIC METHODS  ---------------------------------  //\n\n\t/**\n\t* @method\n\t* @name toggleMute\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Toggle the mute status of the player\n\t**/\n\ttoggleMute() {\n\t\t!this._isMuted ? this.mute() : this.unmute(); // Test isMuted state\n\t}\n\n\t/**\n\t* @method\n\t* @name togglePlay\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Toggle the playback state of the player\n\t**/\n\ttogglePlay() {\n\t\t!this._isPlaying ? this.play() : this.pause(); // Test isPlaying state\n\t}\n\n\t/**\n\t* @method\n\t* @name adjustProgress\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Add/Substract the amount (percentage) to the current progress (percentage)\n\t* @param {number} amount - Percentage value to adjust progress in range [0, 100]\n\t**/\n\tadjustProgress(amount) {\n\t\tthis._setProgress(this._getProgress() + amount); // Inner call with current progression\n\t}\n\n\t/**\n\t* @method\n\t* @name adjustVolume\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Add/Substract the amount to the current volume\n\t* @param {number} amount - Volume to add/substract in range [0, 1]\n\t**/\n\tadjustVolume(amount) {\n\t\tthis._setVolume(this._volume + amount); // Inner call\n\t}\n\n\t/**\n\t* @method\n\t* @name changeTrack\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Change the player source and start the playback once ready to play\n\t* @param {string} url - The path to the track (local or hosted)\n\t* @returns {Promise} A Promise that resolves when player is operating\n\t**/\n\tchangeTrack(url) {\n\t\tlet that = this; // Change scope\n\t\treturn new Promise((resolve) => {\n\t\t\tif (typeof url !== 'string') { return; } // Bad format value to be catched\n\n\t\t\tlet loadedListener = () => {\n\t\t\t\tthat._player.removeEventListener('loadedmetadata', loadedListener); // Remove loaded track listener\n\t\t\t\tthat.play(); // Call player play method (not actually play after that line)\n\t\t\t\tresolve(); // Resolve promise\n\t\t\t}\n\n\t\t\tif (that._isPlaying) { that.stop(); } // Stop any previous playback\n\t\t\tthat._player.src = url; // Set new track url\n\t\t\tthat._player.addEventListener('loadedmetadata', loadedListener); // Add loaded track listener\n\t\t});\n\t}\n\n\t/**\n\t* @method\n\t* @name play\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Swap playing state and start playback at currentTime\n\t**/\n\tplay() {\n\t\tif (this._player.src) { // Apply only if src is defined\n\t\t\tthis._isPlaying = true; // Set playing state to true\n\t\t\tthis._player.play(); // Start player efective playback\n\t\t}\n\t}\n\n\t/**\n\t* @method\n\t* @name pause\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Swap playing state and pause playback at currentTime\n\t**/\n\tpause() {\n\t\tif (this._player.src) { // Apply only if src is defined\n\t\t\tthis._isPlaying = false; // Set playing state to false\n\t\t\tthis._player.pause(); // Pause player playback\n\t\t}\n\t}\n\n\t/**\n\t* @method\n\t* @name stop\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Stop playback and remove source from player attributes\n\t**/\n\tstop() {\n\t\tif (this._player.src) { // Apply only if src is defined\n\t\t\tthis._isPlaying = false; // Set playing state to false\n\t\t\tthis._player.pause(); // Pause player playback\n\t\t\tthis._player.removeAttribute('src'); // Remove src attribute from player (since this._player.src = null doesn't delete src)\n\t\t}\n\t}\n\n\t/**\n\t* @method\n\t* @name mute\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Set player effective volume to zero\n\t**/\n\tmute() {\n\t\tif (!this._isMuted) { // Avoid multi call\n\t\t\tthis._isMuted = true; // Set mute state to true\n\t\t\tthis._player.volume = 0; // Mute audio player\n\t\t}\n\t}\n\n\t/**\n\t* @method\n\t* @name unmute\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description Restore player volume to previous its value\n\t**/\n\tunmute() {\n\t\tif (this._isMuted) { // Avoid multi call\n\t\t\tthis._isMuted = false; // Set mute state to false\n\t\t\tthis.setVolume(this._volume === 0 ? 0.5 : this._volume); // Restore old volume value\n\t\t}\n\t}\n\n\t/**\n\t* @method\n\t* @name repeatTrack\n\t* @public\n\t* @memberof Player\n\t* @author Arthur Beaulieu\n\t* @since July 2018\n\t* @description restart immediately the current track in the player\n\t**/\n\trepeatTrack() {\n\t\tif (this._player.src) { // Apply only if src is defined\n\t\t\tthis._player.currentTime = 0; // Reset current time\n\t\t\tthis.play(); // Start playback\n\t\t}\n\t}\n\n\t//  -------------------------------  GETTERS / SETTERS  -------------------------------  //\n\n\tgetIsPlaying() { return this._isPlaying; }\n\tgetIsMuted() { return this._isMuted; }\n\tgetVolume() { return this._volume; }\n\tgetProgress() { return this._getProgress(); }\n\tgetDuration() { return this._player.duration; }\n\tgetCurrentTime() { return this._player.currentTime; }\n\n\tsetProgress(percentage) { this._setProgress(percentage); }\n\tsetVolume(value) { this._setVolume(value); }\n\n\thasSource() { return this._player.src ? true : false; }\n\n}\n\nexport default Player;\n","import { JSONParsedGetRequest } from '../utils/Utils.js'\nimport Notification from '../utils/Notification.js'\n\nclass User {\n    constructor() {\n        this.id            = -1;\n        this.isAdmin       = false;\n        this.username      = \"\";\n        this.groupName     = \"\";\n        this.groupID       = -1;\n        this.permissions  = [];\n        this.inviteCode    = -1;\n        this.godFatherCode = -1;\n        this.godFatherName = \"\";\n    }\n\n    hasPermission(permissionCode) {\n        return this.permissions.includes(permissionCode);\n    }\n\n    updateProperties(properties) {\n      this.id            = properties.USER_ID;\n      this.isAdmin       = properties.IS_ADMIN;\n      this.username      = properties.USERNAME;\n      this.groupName     = properties.GROUP_NAME;\n      this.groupID       = properties.GROUP_ID;\n      this.permissions  = properties.PERMISSIONS;\n      this.inviteCode    = properties.INVITE_CODE;\n      this.godFatherCode = properties.GODFATHER_CODE;\n      this.godFatherName = properties.GODFATHER_NAME;\n    }\n\n\n//  ------------------------------  GETTERS / SETTERS  --------------------------------  //\n\n    getID() { return this.id; }\n    getIsAdmin() { return this.isAdmin; }\n    getUsername()    { return this.username; }\n    getInviteCode() { if (this.hasPermission(\"SPON\")) { return this.inviteCode; } else { return \"--\"; }}\n    getGodFatherCode() { return this.godFatherCode; }\n    getGodFatherName() { return this.godFatherName; }\n\n}\n\nexport default User;\n","import Playlist from './Playlist.js'\n\nclass Collection {\n  constructor() {\n    this._playlists = [];\n    this._activePlaylist = -1;\n\n    this._init();\n  }\n\n  _init() {\n    mzk.getCollection();\n  }\n\n  addPlaylist(response, activate) {\n    let options = {\n      id: response.PLAYLIST_IDS[0],\n      name: response.PLAYLIST_NAMES[0],\n      description: response.PLAYLIST_DESCRIPTIONS[0],\n      isLibrary: response.PLAYLIST_IS_LIBRARY[0]\n    };\n\n    this._playlists.push(new Playlist(options));\n    if (activate) { this._activePlaylist = (this._playlists.length - 1); }\n\n    return this._playlists[this._playlists.length - 1];\n  }\n\n  newLibrary() {\n    if (!mzk.user.hasPermission('LIBR')) { return; }\n\n    let checkResponse = (response) => {\n      if (response.DONE) { let pl = this.addPlaylist(response, true); this.initialScan(pl); }\n      else { Errors.raise(response.ERROR_KEY); }\n    };\n\n    let options = {\n      URL: '/library/tmp7/',\n      NAME: 'MZK',\n      CONVERT: false\n    };\n\n    mzk.komunikator.post('library/new/', options)\n      .then(response => { checkResponse(response); })\n      .catch(response => { Errors.raise(response, true) });\n  }\n\n  initialScan(pl) {\n    let options = {\n      LIBRARY_ID: pl._id // TODO getter in pl\n    };\n    mzk.komunikator.post('library/initialScan/', options)\n      .then((response) => {\n        options = {\n          PLAYLIST_ID: response.PLAYLIST_ID\n        };\n\n        mzk.komunikator.post('library/checkScanStatus/', options)\n          .then((response) => { pl.getTracks(response); });\n      });\n  }\n}\n\nexport default Collection;\n","import Player from '../core/Player.js'\nimport Collection from './Collection.js'\n\nclass Model {\n  constructor() {\n    this._player = {};\n    this._collection = {};\n\n    this._init();\n  }\n\n  _init() {\n    this._player = new Player();\n    this._collection = new Collection();\n    //Notification.info({ message: 'Success Model start' });\n  }\n\n//  --------------------------------  PLAYER METHODS  ---------------------------------  //\n\n  changeTrack(url) {\n    return new Promise(function(resolve) {\n      this._player.changeTrack(url).then(resolve);\n    }.bind(this));\n  }\n\n  togglePlay() {\n    return new Promise(function(resolve) {\n      this._player.togglePlay();\n      resolve();\n    }.bind(this));\n  }\n\n  stopPlayback() {\n    return new Promise(function(resolve) {\n      this._player.stop();\n      resolve();\n    }.bind(this));\n  }\n\n  mute() {\n    return new Promise(function(resolve) {\n      this._player.mute();\n      resolve();\n    }.bind(this));\n  }\n\n  unmute() {\n    return new Promise(function(resolve) {\n      this._player.unmute();\n      resolve();\n    }.bind(this));\n  }\n\n  toggleMute() {\n    return new Promise(function(resolve) {\n      this._player.toggleMute();\n      resolve();\n    }.bind(this));\n  }\n\n  adjustVolume(amount) {\n    return new Promise(function(resolve) {\n      this._player.adjustVolume(amount);\n      resolve();\n    }.bind(this));\n  }\n\n  setVolume(volume) {\n    return new Promise(function(resolve) {\n      this._player.setVolume(volume);\n      resolve();\n    }.bind(this));\n  }\n\n  adjustProgress(amount) {\n    return new Promise(function(resolve) {\n      this._player.adjustProgress(amount);\n      resolve();\n    }.bind(this));\n  }\n\n  setProgress(progress) {\n    return new Promise(function(resolve) {\n      this._player.setProgress(progress);\n      resolve();\n    }.bind(this));\n  }\n\n  //  --------------------------------  COLLECTION METHODS  ---------------------------------  //\n\n  initCollection(response) {\n    if (response.DONE) {\n      let a = this._collection.addPlaylist(response, true); // remove true when loading all playlists\n      this._collection.initialScan(a);\n      console.log(this._collection);\n    }\n\n    else if (response.ERROR_KEY === null) {\n      this._collection.newLibrary();\n    }\n\n    else {\n      Errors.raise(response.ERROR_KEY);\n    }\n  }\n\n  getVolume() { return this._player.getVolume(); }\n  getPlayer() { return this._player; }\n  getCollection() { return this._collection; }\n}\n\nexport default Model;\n","class Playlist {\n  constructor(options) {\n    this._id = options.id;\n    this._name = options.name;\n    this._description = options.description;\n    this._isLibrary = options.isLibrary;\n  }\n\n  getTracks(response) {\n    console.log('gg');\n  }\n}\n\nexport default Playlist;\n","class Errors {\n  constructor(options) {\n    this._verbose = options.verbose === undefined ? false : (typeof options.verbose === 'boolean' ? options.verbose : false);\n    this._trace = options.trace === undefined ? false : (typeof options.trace === 'boolean' ? options.trace : false);\n    this._cssRules = {\n      info: '',\n      warning: '',\n      error: ''\n    }\n\n    // Those value needs to match the ones in ***.scss for info, warning and error\n    this._cssRules.info = 'color: rgb(44, 44, 48); font-weight: bold;';\n    this._cssRules.warning = 'color: rgb(44, 44, 48); font-weight: bold;';\n    this._cssRules.error = 'color: rgb(255, 0, 48); font-weight: bold;';\n  }\n\n  raise(code, frontend) {\n    let severity = '', title = '', message = '';\n\n    if (mzk.lang.errors.frontend[code] === undefined && mzk.lang.errors.backend[code] === undefined) {\n      severity = mzk.lang.errors.frontend.INVALID_ERROR_CODE.severity;\n      title = mzk.lang.errors.frontend.INVALID_ERROR_CODE.title;\n      message = mzk.lang.errors.frontend.INVALID_ERROR_CODE.message;\n    }\n\n    else if (frontend) {\n      severity = mzk.lang.errors.frontend[code].severity;\n      title = mzk.lang.errors.frontend[code].title;\n      message = mzk.lang.errors.frontend[code].message;\n    }\n\n    else {\n      severity = mzk.lang.errors.backend[code].severity;\n      title = mzk.lang.errors.backend[code].title;\n      message = mzk.lang.errors.backend[code].message;\n    }\n\n    Notification.new({\n      type: severity,\n      title: title,\n      message: message\n    });\n\n    if (this._verbose) {\n      let browser = {\n        firefox: /firefox/i.test(navigator.userAgent),\n        chrome: /chrome/i.test(navigator.userAgent) && /google inc/i.test(navigator.vendor) // Test vendor to avoid false positive\n      };\n      let code = ''; // To access console property easily (see console[type] call)\n      let outputString = `%c${message}\\n${this._getCallerName(browser)}`;\n\n      console.groupCollapsed(`${severity.toUpperCase()} : ${title} (Error.js)`);\n\n      severity === 'warning' ? code = 'warn' : code = severity; // Since console.warning doesn't exists (console.warn())\n      console[code](outputString, this._cssRules[severity]); // Apply type and severity to build console call\n\n      if (this._trace && severity !== 'error') {\n        if (browser.firefox || (browser.chrome && severity !== 'warning')) {\n          console.trace();\n        }\n      }\n\n      console.groupEnd();\n    }\n  }\n\n  _getCallerName(browser) {\n    // Original code from: https://gist.github.com/irisli/716b6dacd3f151ce2b7e - Tweaked to fit Errors class needs (only Chrome and Firefox are supported)\n    let caller = (new Error()).stack; // Create error and get its call stack\n\n    if (browser.firefox) {\n      caller = caller.split('\\n')[2]; // Get who called raise (0 = this, 1 = raise, 2 = raise caller)\n      caller = caller.replace(/\\@+/, ' ('); // Change `@` to `(`\n      caller += ')';\n    } else if (browser.chrome) {\n      caller = caller.split('\\n')[3]; // Get who called raise (0 = this, 1 = raise, 2 = raise caller)\n      caller = caller.replace(/^Error\\s+/, ''); // Remove Chrome `Error` string\n      caller = caller.replace(/^\\s+at./, ''); // Remove Chrome `at` string\n    }\n\n    return `Raised from function ${caller}`;\n  }\n}\n\nexport default Errors;\n","class Notification {\r\n\t/**\r\n\t* @summary Create an instance of a notification handler\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Notification Class to automatically handle one or several notification of different types at the same time.\r\n\t* @param {object} [options] - The notification handler global options\r\n\t* @param {string} [options.position=top-right] - <i>top-left; top-right; bottom-left; bottom-right;</i>\r\n\t* @param {string} [options.thickBorder=top] - <i>top; bottom; left; right; none;</i>\r\n\t* @param {number} [options.duration=3000] - Notification life cycle duration (in ms) in range N*\r\n\t* @param {number} [options.transition=100] - Notification fade animation transition timing (in ms) in range N*\r\n\t* @param {number} [options.maxActive=5] - Maximum of simultaneously opened notification in range N*\r\n\t**/\r\n\tconstructor(options) {\r\n\t\tthis.DEBUG = false;\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] constructor()', this); }\r\n\r\n\t\tthis._dismissAllLock = false; // Dismiss all operation in progress flag\r\n\t\tthis._dom = {}; // Notification handler container\r\n\t\tthis._active = {}; // Active notifications object : retrieve a notification using its ID (this._active[ID])\r\n\t\tthis._queue = {}; // Queue notifications when max active has been reached\r\n\t\tthis._history = []; // Notification history\r\n\r\n\t\tthis._position = '';\r\n\t\tthis._thickBorder = '';\r\n\t\tthis._duration = 0;\r\n\t\tthis._transition = 0;\r\n\t\tthis._maxActive = 0;\r\n\t\tthis._default = {};\r\n\r\n\t\tthis._init(options);\r\n\t\tthis._attach();\r\n\t}\r\n\r\n\t//  --------------------------------  PRIVATE METHODS  --------------------------------  //\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _init\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Init the notification handler\r\n\t* @author Arthur Beaulieu\r\n\t* @since July 2018\r\n\t* @description Create the handler DOM element, set default values, test given options and properly add CSS class to the handler\r\n\t* @param {object} [options] - The notification handler global options\r\n\t* @param {string} [options.position=top-right] - <i>top-left; top-right; bottom-left; bottom-right;</i>\r\n\t* @param {string} [options.thickBorder=top] - <i>top; bottom; left; right; none;</i>\r\n\t* @param {number} [options.duration=3000] - Notification life cycle duration (in ms) in range N*\r\n\t* @param {number} [options.transition=100]  - Notification fade animation transition timing (in ms) in range N*\r\n\t* @param {number} [options.maxActive=5] - Maximum of simultaneously opened notification in range N*\t**/\r\n\t_init(options) {\r\n\t\tthis._dom = document.createElement('DIV'); // Notification handler DOM container\r\n\t\tthis._dom.classList.add('notification-container'); // Set proper CSS class\r\n\r\n\t\tthis._default = {\r\n\t\t\thandler: {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tthickBorder: 'top',\r\n\t\t\t\tduration: 5000,\r\n\t\t\t\ttransition: 200,\r\n\t\t\t\tmaxActive: 10\r\n\t\t\t},\r\n\t\t\tnotification: {\r\n\t\t\t\ttype: 'info',\r\n\t\t\t\tmessage: '',\r\n\t\t\t\ttitle: '',\r\n\t\t\t\ticonless: false,\r\n\t\t\t\tclosable: true,\r\n\t\t\t\tsticky: false,\r\n\t\t\t\trenderTo: this._dom,\r\n\t\t\t\tCBtitle: '',\r\n\t\t\t\tcallback: null\r\n\t\t\t},\r\n\t\t\tcolor: {\r\n\t\t\t\tsuccess: 'rgb(76, 175, 80)',\r\n\t\t\t\tinfo: 'rgb(3, 169, 244)',\r\n\t\t\t\twarning: 'rgb(255, 152, 0)',\r\n\t\t\t\terror: 'rgb(244, 67, 54)'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis._position = options === undefined ? this._default.handler.position : options.position  === undefined ? this._default.handler.position : options.position;\r\n\t\tthis._thickBorder = options === undefined ? this._default.handler.thickBorder : options.thickBorder === undefined ? this._default.handler.thickBorder : options.thickBorder;\r\n\t\tthis._duration = options === undefined ? this._default.handler.duration : options.duration === undefined ? this._default.handler.duration : options.duration;\r\n\t\tthis._transition = options === undefined ? this._default.handler.transition : options.transition  === undefined ? this._default.handler.transition : options.transition;\r\n\t\tthis._maxActive = options === undefined ? this._default.handler.maxActive : options.maxActive === undefined ? this._default.handler.maxActive : options.maxActive;\r\n\r\n\t\tif (this.DEBUG && this._position !== 'top-left' && this._position !== 'top-right' && this._position !== 'bottom-left' && this._position !== 'bottom-right') { // Illegal value for position\r\n\t\t\tconsole.warn('[ Notification ] constructor() | Invalid value for position' +\r\n\t\t\t'\\nGiven position value of ' + this._position + ' has been replaced with ' + this._default.handler.position);\r\n\t\t\tthis._position = this._default.handler.position; // Default value\r\n\t\t}\r\n\r\n\t\tif (this.DEBUG && this._thickBorder !== 'top' && this._thickBorder !== 'bottom' && this._thickBorder !== 'left' && this._thickBorder !== 'right' && this._thickBorder !== 'none') { // Illegal value for thick border\r\n\t\t\tconsole.warn('[ Notification ] constructor() | Invalid value for thickBorder' +\r\n\t\t\t'\\nGiven position value of ' + this._thickBorder + ' has been replaced with ' + this._default.handler.position);\r\n\t\t\tthis._thickBorder = this._default.handler.thickBorder; // Default value\r\n\t\t}\r\n\r\n\t\tif (this.DEBUG && typeof this._duration !== 'number' || this._duration <= 0) { // Illegal value for duration\r\n\t\t\tconsole.warn('[ Notification ] constructor() | Invalid value for duration' +\r\n\t\t\t'\\nGiven duration value of ' + this._duration + 'ms has been replaced with ' + this._default.handler.duration + 'ms');\r\n\t\t\tthis._duration = this._default.handler.duration; // Default value\r\n\t\t}\r\n\r\n\t\tif (this.DEBUG && this._duration < (this._transition * 2)) { // Transition over (duration / 2)\r\n\t\t\tconsole.warn('[ Notification ] constructor() | Invalid value for transition' +\r\n\t\t\t'\\nGiven transition value of ' + this._transition + 'ms has been replaced with ' + this._default.handler.transition + 'ms');\r\n\t\t\tthis._transition = this._default.handler.transition; // Default value for _maxActive\r\n\t\t}\r\n\r\n\t\tif (this.DEBUG && typeof this._maxActive !== 'number' || this._maxActive <= 0) { // Illegal value for maxActive\r\n\t\t\tconsole.warn('[ Notification ] constructor() | Invalid value for maxActive' +\r\n\t\t\t'\\nGiven maxActive value of ' + this._maxActive + ' has been replaced with ' + this._default.handler.maxActive);\r\n\t\t\tthis._maxActive = this._default.handler.maxActive; // Default value for _maxActive\r\n\t\t}\r\n\r\n\t\tthis._dom.classList.add(this._position); // Add position CSS class only after this._position is sure to be a valid value\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _attach\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Attach the notification handler\r\n\t* @author Arthur Beaulieu\r\n\t* @since July 2018\r\n\t* @description Attach the notification handler to the dom using a fragment\r\n\t**/\r\n\t_attach() {\r\n\t\tlet fragment = document.createDocumentFragment();\r\n\t\tfragment.appendChild(this._dom);\r\n\t\tdocument.body.appendChild(fragment);\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _events\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Listen to user interaction on a notification\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Handle mouse events for the given notification\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {object} notification.dom - Notifiction DOM element\r\n\t* @param {number} notification.requestCount - Notification inner call counter\r\n\t* @param {number} notification.timeoutID - Notification own setTimeout ID\r\n\t* @param {boolean} notification.sticky - Notification sticky behvaior\r\n\t* @param {boolean} notification.closable - Make notification closable flag\r\n\t**/\r\n\t_events(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._events()'); }\r\n\r\n\t\tlet that \t   = this,\r\n\t\tcloseFired = false, // Close fired flag\r\n\r\n\t\t// Inner callback functions\r\n\t\t_unDim = () => { // Undim notification\r\n\t\t\tif (notification.isDimmed) {\r\n\t\t\t\tthis._unDim(notification);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_close = () => { // Close notification\r\n\t\t\tif (that._active[notification.id] === undefined) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Update counter DOM element\r\n\t\t\tif (notification.requestCount > 1) {\r\n\t\t\t\tthis._decrementRequestCounter(notification, true);\r\n\t\t\t}\r\n\r\n\t\t\t// Remove notification element from the DOM tree\r\n\t\t\telse if (!closeFired) {\r\n\t\t\t\tcloseFired = true;\r\n\t\t\t\twindow.clearTimeout(notification.timeoutID); // Clear life cycle timeout\r\n\t\t\t\tnotification.dom.close.removeEventListener('click', _close); // Avoid error when spam clicking the close button\r\n\t\t\t\tthis._close(notification);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t_resetTimeout = () => { // Reset life cycle timeout\r\n\t\t\tif (that._active[notification.id] === undefined) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!closeFired && !notification.isDimmed) { // Only reset timeout if no close event has been fired\r\n\t\t\t\tthat._resetTimeout(notification);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Mouse event listeners\r\n\t\tif (notification.sticky) {\r\n\t\t\tnotification.dom.addEventListener('mouseenter', _unDim.bind(this));\r\n\t\t\tnotification.dom.addEventListener('mouseout',   _unDim.bind(this));\r\n\t\t}\r\n\r\n\t\tif (notification.closable) {\r\n\t\t\tnotification.dom.addEventListener('click', \t\t _close.bind(this));\r\n\t\t\tnotification.dom.close.addEventListener('click', _close.bind(this));\r\n\t\t}\r\n\r\n\t\tnotification.dom.addEventListener('mouseover', _resetTimeout.bind(this));\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _buildUI\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Build a notification UI\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Builds the DOM element that contains and that adapts to all given options\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {string} notification.type - Error, Warning, Info, Success\r\n\t* @param {string} notification.title - Notification title\r\n\t* @param {string} notification.message - Notification message\r\n\t* @param {boolean} notification.iconless - No icon flag\r\n\t* @param {string} notification.thickBorder - Notification border side (override handler side value)\r\n\t* @param {boolean} notification.closable - Make notification closable flag\r\n\t* @param {boolean} notification.sticky - Make notification sticky flag\r\n\t* @param {string} notification.CBtitle - Notification callback title\r\n\t* @param {function} notification.callback - Notification callback button\r\n\t* @returns {object} Enhanced and ready notification object\r\n\t**/\r\n\t_buildUI(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._buildUI() '); }\r\n\r\n\t\tnotification.requestCount      = 1;\r\n\t\tnotification.totalRequestCount = 1;\r\n\r\n\t\t// Create notification DOM elements\r\n\t\tnotification.dom           = document.createElement('DIV');\r\n\t\tnotification.dom.vector    = document.createElement('DIV');\r\n\t\tnotification.dom.text      = document.createElement('DIV');\r\n\t\tnotification.dom.icon      = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n\t\tnotification.dom.close     = document.createElement('DIV');\r\n\t\tnotification.dom.maintitle = document.createElement('H6');\r\n\t\tnotification.dom.message   = document.createElement('P');\r\n\r\n\t\tlet svgPath = document.createElementNS(notification.dom.icon.namespaceURI, 'path');\r\n\r\n\t\t// Class assignation\r\n\t\tnotification.dom.classList.add('notification');\r\n\t\tnotification.dom.vector.classList.add('vector-container');\r\n\t\tnotification.dom.text.classList.add('text-container');\r\n\t\tnotification.dom.close.classList.add('close');\r\n\r\n\t\t// Changing border side\r\n\t\tswitch(notification.thickBorder) {\r\n\t\t\tcase 'top':\r\n\t\t\tnotification.dom.classList.add('top-border');\r\n\t\t\tbreak;\r\n\t\t\tcase 'bottom':\r\n\t\t\tnotification.dom.classList.add('bottom-border');\r\n\t\t\tbreak;\r\n\t\t\tcase 'left':\r\n\t\t\tnotification.dom.classList.add('left-border');\r\n\t\t\tbreak;\r\n\t\t\tcase 'right':\r\n\t\t\tnotification.dom.classList.add('right-border');\r\n\t\t\tbreak;\r\n\t\t\tcase 'none':\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// Text modification\r\n\t\tnotification.dom.maintitle.innerHTML = notification.title;\r\n\t\tnotification.dom.message.innerHTML   = notification.message;\r\n\t\tnotification.dom.close.innerHTML \t   = '&#x2716;';\r\n\r\n\t\t// Type specification (title, icon, color)\r\n\t\tswitch(notification.type) {\r\n\t\t\tcase 'info':\r\n\t\t\tif (!notification.iconless) {\r\n\t\t\t\tsvgPath.setAttributeNS(null, 'd', 'M 13,1.1875 C 6.476563,1.1875 1.1875,6.476563 1.1875,13 1.1875,19.523438 6.476563,24.8125 13,24.8125 19.523438,24.8125 24.8125,19.523438 24.8125,13 24.8125,6.476563 19.523438,1.1875 13,1.1875 z m 2.460938,18.308594 c -0.609375,0.238281 -1.09375,0.421875 -1.457032,0.546875 -0.363281,0.125 -0.78125,0.1875 -1.261718,0.1875 -0.734375,0 -1.308594,-0.179688 -1.71875,-0.539063 -0.40625,-0.355468 -0.609375,-0.8125 -0.609375,-1.367187 0,-0.214844 0.01563,-0.433594 0.04687,-0.65625 0.02734,-0.226563 0.07813,-0.476563 0.144531,-0.761719 l 0.761719,-2.6875 c 0.06641,-0.257812 0.125,-0.5 0.171875,-0.730469 0.04687,-0.230468 0.06641,-0.441406 0.06641,-0.632812 0,-0.339844 -0.07031,-0.582031 -0.210938,-0.714844 C 11.25,12.003906 10.980469,11.9375 10.582031,11.9375 c -0.195312,0 -0.398437,0.03125 -0.605468,0.08984 -0.207032,0.0625 -0.382813,0.121094 -0.53125,0.175781 L 9.648438,11.375 c 0.496093,-0.203125 0.972656,-0.375 1.429687,-0.519531 0.453125,-0.144531 0.886719,-0.21875 1.289063,-0.21875 0.730468,0 1.296875,0.179687 1.691406,0.53125 0.394531,0.351562 0.59375,0.8125 0.59375,1.375 0,0.117187 -0.01172,0.324219 -0.03906,0.617187 -0.02734,0.292969 -0.07813,0.5625 -0.152343,0.8125 l -0.757813,2.679688 c -0.0625,0.214844 -0.117187,0.460937 -0.167969,0.734375 -0.04687,0.273437 -0.07031,0.484375 -0.07031,0.625 0,0.355469 0.07813,0.601562 0.238281,0.730469 0.15625,0.128906 0.433594,0.191406 0.828125,0.191406 0.183594,0 0.390625,-0.03125 0.625,-0.09375 0.230469,-0.06641 0.398438,-0.121094 0.503906,-0.171875 z M 15.324219,8.617188 c -0.351563,0.328125 -0.777344,0.492187 -1.273438,0.492187 -0.496093,0 -0.925781,-0.164062 -1.28125,-0.492187 -0.355468,-0.328125 -0.53125,-0.726563 -0.53125,-1.191407 0,-0.464843 0.179688,-0.867187 0.53125,-1.199218 0.355469,-0.332032 0.785157,-0.496094 1.28125,-0.496094 0.496094,0 0.921875,0.164062 1.273438,0.496094 0.355469,0.332031 0.53125,0.734375 0.53125,1.199218 0,0.464844 -0.175781,0.863282 -0.53125,1.191407 z');\r\n\t\t\t\tsvgPath.setAttribute('fill', this._default.color.info);\r\n\t\t\t}\r\n\t\t\tnotification.dom.classList.add('info');\r\n\t\t\tbreak;\r\n\t\t\tcase 'success':\r\n\t\t\tif (!notification.iconless) {\r\n\t\t\t\tsvgPath.setAttributeNS(null, 'd', 'M 12.499783,0 C 5.5966693,0 0,5.596435 0,12.499784 c 0,6.903347 5.5966693,12.499782 12.499783,12.499782 6.903875,0 12.499783,-5.596435 12.499783,-12.499782 C 24.999566,5.596435 19.403424,0 12.499783,0 z m -2.292972,18.920678 -5.5039166,-5.503683 1.8344827,-1.834483 3.6694339,3.669201 8.255378,-8.2556122 1.834483,1.834483 -10.089861,10.0900942 z');\r\n\t\t\t\tsvgPath.setAttribute('fill', this._default.color.success);\r\n\t\t\t}\r\n\t\t\tnotification.dom.classList.add('success');\r\n\t\t\tbreak;\r\n\t\t\tcase 'warning':\r\n\t\t\tif (!notification.iconless) {\r\n\t\t\t\tsvgPath.setAttributeNS(null, 'd', 'M 24.729868,20.761932 13.783787,2.6088248 C 13.507151,2.1500377 13.010452,1.8695027 12.474673,1.8695027 c -0.53578,0 -1.032479,0.2804863 -1.309115,0.7393221 L 0.21957459,20.761932 c -0.28467704,0.472139 -0.29310722,1.061034 -0.0219769,1.541067 0.27113027,0.480082 0.77971881,0.776941 1.33104306,0.776941 H 23.420753 c 0.551324,0 1.059913,-0.296908 1.331043,-0.776941 0.27113,-0.480082 0.262749,-1.068928 -0.02193,-1.541067 z M 12.482859,8.148868 c 0.628658,0 1.160588,0.3546525 1.160588,0.9832615 0,1.9181345 -0.225666,4.6745605 -0.225666,6.5926955 0,0.49972 -0.548059,0.709207 -0.934922,0.709207 -0.515752,0 -0.951002,-0.209536 -0.951002,-0.709207 0,-1.918135 -0.225618,-4.674561 -0.225618,-6.5926955 0,-0.628609 0.515752,-0.9832615 1.17662,-0.9832615 z m 0.01613,11.879784 c -0.709208,0 -1.241187,-0.580269 -1.241187,-1.241137 0,-0.676997 0.53193,-1.241137 1.241187,-1.241137 0.660867,0 1.225056,0.56414 1.225056,1.241137 0,0.660868 -0.564189,1.241137 -1.225056,1.241137 z');\r\n\t\t\t\tsvgPath.setAttribute('fill', this._default.color.warning);\r\n\t\t\t}\r\n\t\t\tnotification.dom.classList.add('warning');\r\n\t\t\tbreak;\r\n\t\t\tcase 'error':\r\n\t\t\tif (!notification.iconless) {\r\n\t\t\t\tsvgPath.setAttributeNS(null, 'd', 'M 12.52501,0 C 9.198467,0 6.0711819,1.2953998 3.7190383,3.6475434 -1.1366543,8.5031605 -1.1366543,16.403869 3.7188874,21.259562 c 2.3521435,2.352219 5.4795796,3.647619 8.8061226,3.647619 3.326392,0 6.453828,-1.2954 8.805971,-3.647619 4.855693,-4.855693 4.855693,-12.7564015 0,-17.6120186 C 18.978838,1.2953998 15.851402,0 12.52501,0 z m 5.603813,18.057329 c -0.221145,0.22107 -0.510823,0.331642 -0.800577,0.331642 -0.289678,0 -0.579507,-0.110572 -0.800426,-0.331642 l -4.00281,-4.00266 -4.0027352,4.002735 c -0.2211455,0.22107 -0.5108236,0.331643 -0.8005771,0.331643 -0.2896781,0 -0.5795071,-0.110573 -0.8004262,-0.331643 -0.4422157,-0.442065 -0.4422157,-1.158939 0,-1.601079 L 10.923931,12.45359 6.921196,8.4508554 c -0.4422157,-0.4420647 -0.4422157,-1.1589386 0,-1.6010788 0.4420647,-0.4420648 1.1589386,-0.4420648 1.6010788,0 L 12.52501,10.852512 16.527593,6.8497766 c 0.442065,-0.4420648 1.158939,-0.4420648 1.60108,0 0.442215,0.4420647 0.442215,1.1589386 0,1.6010788 l -4.002585,4.0027346 4.002735,4.002659 c 0.442141,0.442141 0.442141,1.159015 0,1.60108 z');\r\n\t\t\t\tsvgPath.setAttribute('fill', this._default.color.error);\r\n\t\t\t}\r\n\t\t\tnotification.dom.classList.add('error');\r\n\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\tif (!notification.iconless) {\r\n\t\t\t\tsvgPath.setAttributeNS(null, 'd', 'M 13,1.1875 C 6.476563,1.1875 1.1875,6.476563 1.1875,13 1.1875,19.523438 6.476563,24.8125 13,24.8125 19.523438,24.8125 24.8125,19.523438 24.8125,13 24.8125,6.476563 19.523438,1.1875 13,1.1875 z m 2.460938,18.308594 c -0.609375,0.238281 -1.09375,0.421875 -1.457032,0.546875 -0.363281,0.125 -0.78125,0.1875 -1.261718,0.1875 -0.734375,0 -1.308594,-0.179688 -1.71875,-0.539063 -0.40625,-0.355468 -0.609375,-0.8125 -0.609375,-1.367187 0,-0.214844 0.01563,-0.433594 0.04687,-0.65625 0.02734,-0.226563 0.07813,-0.476563 0.144531,-0.761719 l 0.761719,-2.6875 c 0.06641,-0.257812 0.125,-0.5 0.171875,-0.730469 0.04687,-0.230468 0.06641,-0.441406 0.06641,-0.632812 0,-0.339844 -0.07031,-0.582031 -0.210938,-0.714844 C 11.25,12.003906 10.980469,11.9375 10.582031,11.9375 c -0.195312,0 -0.398437,0.03125 -0.605468,0.08984 -0.207032,0.0625 -0.382813,0.121094 -0.53125,0.175781 L 9.648438,11.375 c 0.496093,-0.203125 0.972656,-0.375 1.429687,-0.519531 0.453125,-0.144531 0.886719,-0.21875 1.289063,-0.21875 0.730468,0 1.296875,0.179687 1.691406,0.53125 0.394531,0.351562 0.59375,0.8125 0.59375,1.375 0,0.117187 -0.01172,0.324219 -0.03906,0.617187 -0.02734,0.292969 -0.07813,0.5625 -0.152343,0.8125 l -0.757813,2.679688 c -0.0625,0.214844 -0.117187,0.460937 -0.167969,0.734375 -0.04687,0.273437 -0.07031,0.484375 -0.07031,0.625 0,0.355469 0.07813,0.601562 0.238281,0.730469 0.15625,0.128906 0.433594,0.191406 0.828125,0.191406 0.183594,0 0.390625,-0.03125 0.625,-0.09375 0.230469,-0.06641 0.398438,-0.121094 0.503906,-0.171875 z M 15.324219,8.617188 c -0.351563,0.328125 -0.777344,0.492187 -1.273438,0.492187 -0.496093,0 -0.925781,-0.164062 -1.28125,-0.492187 -0.355468,-0.328125 -0.53125,-0.726563 -0.53125,-1.191407 0,-0.464843 0.179688,-0.867187 0.53125,-1.199218 0.355469,-0.332032 0.785157,-0.496094 1.28125,-0.496094 0.496094,0 0.921875,0.164062 1.273438,0.496094 0.355469,0.332031 0.53125,0.734375 0.53125,1.199218 0,0.464844 -0.175781,0.863282 -0.53125,1.191407 z');\r\n\t\t\t\tsvgPath.setAttribute('fill', this._default.color.info);\r\n\t\t\t}\r\n\t\t\tnotification.dom.classList.add('info');\r\n\t\t\tconsole.warn('[ Notification ] ' + notification.id + '._buildUI() | Invalid value for type' +\r\n\t\t\t'\\nGiven type value of ' + notification.type + ' has been replaced with info');\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (notification.iconless) {\r\n\t\t\tnotification.dom.message.classList.add('iconless-width');\r\n\t\t}\r\n\r\n\t\t// Fill intermediate DOM elements\r\n\t\tif (!notification.iconless) {\r\n\t\t\tnotification.dom.icon.appendChild(svgPath);\r\n\t\t\tnotification.dom.vector.appendChild(notification.dom.icon);\r\n\t\t}\r\n\r\n\t\tnotification.dom.text.appendChild(notification.dom.maintitle);\r\n\t\tnotification.dom.text.appendChild(notification.dom.message);\r\n\r\n\t\t// Add callback button and listener if needed\r\n\t\tif (notification.callback) {\r\n\t\t\tlet callbackButton \t\t = document.createElement('BUTTON');\r\n\t\t\tcallbackButton.innerHTML = notification.CBtitle;\r\n\t\t\tnotification.dom.text.appendChild(callbackButton);\r\n\r\n\t\t\tlet that = this;\r\n\t\t\tcallbackButton.addEventListener('click', () => {\r\n\t\t\t\tthat._close(notification);\r\n\t\t\t\tnotification.callback();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Fill notification DOM element\r\n\t\tif (!notification.iconless) {\r\n\t\t\tnotification.dom.appendChild(notification.dom.vector);\r\n\t\t}\r\n\r\n\t\tnotification.dom.appendChild(notification.dom.text);\r\n\r\n\t\t// Append close button if needed\r\n\t\tif (notification.closable) {\r\n\t\t\tnotification.dom.appendChild(notification.dom.close);\r\n\t\t}\r\n\r\n\t\t// Return final notification\r\n\t\treturn notification;\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _start\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Start a notification life cycle\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Call this method to add the new notification to the DOM container, and launch its life cycle\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t**/\r\n\t_start(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._start()'); }\r\n\r\n\t\tif (Object.keys(this._active).length >= this._maxActive) {\r\n\t\t\tthis._queue[notification.id] = notification;\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\tthis._active[notification.id] = notification; // Append the new notification to the _active object\r\n\r\n\t\t\tthis._events(notification); // Listen to mouse events on the newly created notification\r\n\t\t\tthis._open(notification); // Open the new notification\r\n\r\n\t\t\tlet that = this;\r\n\t\t\tnotification.timeoutID = window.setTimeout(() => {\r\n\t\t\t\tthat._checkCounter(notification); // Check notification request count to act accordingly\r\n\t\t\t}, notification.duration); // Use Notification master duration\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _open\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Open the notification with a fade in animation\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Open and add the notification to the container\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {object} notification.dom - Notifiction DOM element\r\n\t**/\r\n\t_open(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._open()'); }\r\n\r\n\t\t// Reverse insertion when notifications are on bottom\r\n\t\tif (this._position === 'bottom-right' || this._position === 'bottom-left') {\r\n\t\t\tnotification.renderTo.insertBefore(notification.dom, notification.renderTo.firstChild);\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\tnotification.renderTo.appendChild(notification.dom);\r\n\t\t}\r\n\r\n\t\tnotification.opened = Date.now();\r\n\r\n\t\tlet that = this,\r\n\t\ti    = 0;\r\n\r\n\t\t(function fadeIn() { // Start animation immediatly\r\n\t\t\tif (i < 100) {\r\n\t\t\t\tnotification.dom.style.opacity = i / 100;\r\n\t\t\t\t++i;\r\n\t\t\t}\r\n\r\n\t\t\telse if (i === 100) {\r\n\t\t\t\tnotification.dom.style.opacity = 1; // Set notification full opacity\r\n\t\t\t\treturn; // End function\r\n\t\t\t}\r\n\r\n\t\t\twindow.setTimeout(fadeIn, that._transition / 100); // Split animation transition into 100 iterations\r\n\t\t})();\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _close\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Close the notification with a fade out animation\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Close and remove the notification from the container\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {boolean} notification.isClosing - Already closing flag\r\n\t* @param {object} notification.dom - Notifiction DOM element\r\n\t* @param {object} notification.renderTo - DOM object to render the notification in\r\n\t**/\r\n\t_close(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._close() '); }\r\n\r\n\t\tif (notification.isClosing) { // Avoid double close on a notification (in case dismiss/dismissAll is triggerred when notification is already closing)\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tnotification.isClosing         = true; // Lock notification to one fadeOut animation\r\n\t\tnotification.closed    \t\t   = Date.now();\r\n\t\tnotification.effectiveDuration = notification.closed - notification.opened;\r\n\r\n\t\tlet that = this;\r\n\t\tlet i    = 100;\r\n\r\n\t\t(function fadeOut() { // Start animation immediatly\r\n\t\t\tif (i > 0) {\r\n\t\t\t\tnotification.dom.style.opacity = i / 100;\r\n\r\n\t\t\t\t--i;\r\n\t\t\t}\r\n\r\n\t\t\telse if (i === 0) { // Opacity has reached 0\r\n\t\t\t\tthat._updateHistory(notification);\r\n\t\t\t\tnotification.renderTo.removeChild(notification.dom); // Remove this notification from the DOM tree\r\n\r\n\t\t\t\tif (Object.keys(that._queue).length > 0) { // Notification queue is not empty\r\n\t\t\t\t\tthat._start(that._queue[Object.keys(that._queue)[0]]); // Start first queued notification\r\n\t\t\t\t\tdelete that._queue[Object.keys(that._queue)[0]]; // Shift queue object\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse if (Object.keys(that._active).length === 0) { // Check this._active emptyness\r\n\t\t\t\t\tthat._dismissAllLock = false; // Unlock dismissAllLock\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn; // End function\r\n\t\t\t}\r\n\r\n\t\t\twindow.setTimeout(fadeOut, that._transition / 100); // Split animation transition into 100 iterations\r\n\t\t})();\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _incrementRequestCounter\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Increment notification requestCount\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description This method is called when a notification is requested another time\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {number} notification.requestCount - Notification inner call counter\r\n\t* @param {object} notification.dom - Notifiction DOM element\r\n\t* @param {boolean} notification.sticky - Notification sticky behvaior\r\n\t* @param {boolean} notification.isDimmed - Notification dimmed status (only useful if notification.sticky is true)\r\n\t**/\r\n\t_incrementRequestCounter(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._incrementRequestCounter()'); }\r\n\r\n\t\t++notification.requestCount; // Increment notification.requestCount\r\n\r\n\t\tif (notification.totalRequestCount < notification.requestCount) { notification.totalRequestCount = notification.requestCount; }\r\n\r\n\t\t// Update counter DOM element\r\n\t\tif (notification.requestCount > 1) {\r\n\t\t\t// Update existing counter\r\n\t\t\tif (notification.dom.counter) {\r\n\t\t\t\tnotification.dom.counter.innerHTML = notification.requestCount;\r\n\t\t\t}\r\n\r\n\t\t\t// Create counter DOm element\r\n\t\t\telse {\r\n\t\t\t\tnotification.dom.counter = document.createElement('DIV');\r\n\t\t\t\tnotification.dom.counter.classList.add('counter');\r\n\t\t\t\tnotification.dom.counter.innerHTML = notification.requestCount;\r\n\t\t\t\tnotification.dom.appendChild(notification.dom.counter);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Undim notification if it is a sticky/dimmed one\r\n\t\tif (notification.sticky && notification.isDimmed) {\r\n\t\t\tthis._unDim(notification);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _decrementRequestCounter\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Decrement notification requestCount\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description This method is called each notification cycle end to update its inner counter\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {boolean} notification.sticky - Notification sticky behvaior\r\n\t* @param {boolean} notification.isDimmed - Notification dimmed status (only useful if notification.sticky is true)\r\n\t* @param {number} notification.requestCount - Notification inner call counter\r\n\t* @param {object} notification.dom - Notification DOM element\r\n\t* @param {boolean} force - To force the notification.requestCount decrementation\r\n\t**/\r\n\t_decrementRequestCounter(notification, force) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._decrementRequestCounter()'); }\r\n\r\n\t\tif (notification.sticky && !force) {\r\n\t\t\tif (!notification.isDimmed) {\r\n\t\t\t\tthis._dim(notification);\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._resetTimeout(notification);\r\n\t\t--notification.requestCount; // Decrement notification.requestCount\r\n\r\n\t\t// Update counter DOM element\r\n\t\tif (notification.requestCount > 1) {\r\n\t\t\tnotification.dom.counter.innerHTML = notification.requestCount;\r\n\t\t}\r\n\r\n\t\t// Remove counter element from the DOM tree\r\n\t\telse {\r\n\t\t\tnotification.dom.removeChild(notification.dom.counter);\r\n\t\t\tdelete notification.dom.counter;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _checkCounter\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Check a notification counter and act accordingly\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description This method will reset the fadeout/dim timeout or close/dim the notification depending on its requestCount\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {number} notification.requestCount - Notification inner call counter\r\n\t* @param {object} notification.dom - Notifiction DOM element\r\n\t* @param {number} notification.timeoutID - Notification own setTimeout ID\r\n\t* @param {boolean} notification.sticky - Notification sticky behvaior\r\n\t**/\r\n\t_checkCounter(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._checkCounter()'); }\r\n\r\n\t\t// This notification as still more than one cycle to live\r\n\t\tif (notification.requestCount > 1) {\r\n\t\t\tthis._decrementRequestCounter(notification);\r\n\t\t}\r\n\r\n\t\t// This notification reached the end of its life cycle\r\n\t\telse {\r\n\t\t\tif (notification.renderTo.contains(notification.dom)) {\r\n\t\t\t\twindow.clearTimeout(notification.timeoutID);\r\n\t\t\t\tnotification.sticky ? this._dim(notification) : this._close(notification); // FadeOut/Dim depending on sticky behavior\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _clearRequestCount\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Reset request count to one\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Method that clear every pending request\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {object} notification.dom - Notifiction DOM element\r\n\t**/\r\n\t_clearRequestCount(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._clearRequestCount()'); }\r\n\r\n\t\tnotification.requestCount = 1;\r\n\t\tnotification.dom.removeChild(notification.dom.counter);\r\n\t\tdelete notification.dom.counter;\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _resetTimeout\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Reset a notification life cycle\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Use this to reset a notification life cycle, and delay its close event\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {number} notification.timeoutID - Notification own setTimeout ID\r\n\t**/\r\n\t_resetTimeout(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._resetTimeout()'); }\r\n\r\n\t\twindow.clearTimeout(notification.timeoutID); // Clear previpous life cycle\r\n\r\n\t\tlet that = this;\r\n\t\tnotification.timeoutID = window.setTimeout(() => {\r\n\t\t\tthat._checkCounter(notification); // Check notification request count to act accordingly\r\n\t\t}, notification.duration); // Use Notification master duration\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _updateHistory\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Update the handler history\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Add a notification to the history. Might be executed when a notification is being closed\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t**/\r\n\t_updateHistory(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._updateHistory()'); }\r\n\r\n\t\t// Remove this notification from the active object\r\n\t\tdelete this._active[notification.id];\r\n\r\n\t\t// Work notification copy\r\n\t\tlet cleanEntry = JSON.parse(JSON.stringify(notification));\r\n\r\n\t\t// Clear notification object from working attributes\r\n\t\tdelete cleanEntry.isClosing;\r\n\t\tdelete cleanEntry.isDimmed;\r\n\t\tdelete cleanEntry.requestCount;\r\n\t\tdelete cleanEntry.timeoutID;\r\n\t\tdelete cleanEntry.renderTo;\r\n\t\tdelete cleanEntry.dom;\r\n\r\n\t\t// Save notification to the history\r\n\t\tthis._history.push(cleanEntry);\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _dim\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Dim the notification with a half fade out animation\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Only useful for sticky notification that dim instead of close at the end of its life cycle\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {object} notification.dom - Notifiction DOM element\r\n\t* @param {boolean} notification.sticky - Notification sticky behvaior\r\n\t* @param {boolean} notification.isDimmed - Notification dimmed status (only useful if notification.sticky is true)\r\n\t**/\r\n\t_dim(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._dim()'); }\r\n\r\n\t\tlet that = this,\r\n\t\ti    = 100;\r\n\r\n\t\t(function halfFadeOut() { // Start animation immediatly\r\n\t\t\tif (i >= 0) {\r\n\t\t\t\tnotification.dom.style.opacity = i / 100;\r\n\t\t\t\t--i;\r\n\r\n\t\t\t\tif (i === 50 && notification.sticky) { // Opacity has reached 0.51\r\n\t\t\t\t\tnotification.dom.style.opacity = 0.5; // Set half transparency on notification\r\n\t\t\t\t\tnotification.isDimmed = true; // Update notification dim status\r\n\t\t\t\t\treturn; // End function\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\twindow.setTimeout(halfFadeOut, that._transition / 100); // Split animation transition into 100 iterations (50 for real here)\r\n\t\t})();\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name _unDim\r\n\t* @private\r\n\t* @memberof Notification\r\n\t* @summary Restore notification opacity\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Call this method when a notification is not inactive anymore\r\n\t* @param {object} notification - The notification object\r\n\t* @param {number} notification.id - Notification personnal ID\r\n\t* @param {object} notification.dom - Notifiction DOM element\r\n\t* @param {boolean} notification.isDimmed - Notification dimmed status (only useful if notification.sticky is true)\r\n\t**/\r\n\t_unDim(notification) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + notification.id + '._unDim()'); }\r\n\r\n\t\tlet that = this,\r\n\t\ti    = 50;\r\n\r\n\t\t(function halfFadeIn() {\r\n\t\t\tif (i < 100) {\r\n\t\t\t\tnotification.dom.style.opacity = i / 100;\r\n\t\t\t\t++i;\r\n\t\t\t}\r\n\r\n\t\t\telse if (i === 100) {\r\n\t\t\t\tnotification.dom.style.opacity = 1; // Set full visibility on notification\r\n\t\t\t\tnotification.isDimmed = false; // Update notification dim status\r\n\t\t\t\tthat._resetTimeout(notification); // Reset life cycle timeout\r\n\t\t\t\treturn; // End function\r\n\t\t\t}\r\n\r\n\t\t\twindow.setTimeout(halfFadeIn, that._transition / 100); // Split animation transition into 100 iterations (50 for real here)\r\n\t\t})();\r\n\t}\r\n\r\n\t//  --------------------------------  PUBLIC METHODS  ---------------------------------  //\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name new\r\n\t* @public\r\n\t* @memberof Notification\r\n\t* @summary Call a new notification\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Build a notification according to the given options, then append it to notification container.\r\n\t* @param {object} options - The notification options object\r\n\t* @param {string} options.type - <i>Error; Warning; Info; Success;</i>\r\n\t* @param {string} [options.title=options.type] - Notification title\r\n\t* @param {string} options.message - Notification message\r\n\t* @param {number} [options.duration=handler] - Notification duration (override handler duration value)\r\n\t* @param {boolean} [options.iconless=false] - No icon flag\r\n\t* @param {string} [options.thickBorder=handler] - Notification border side (override handler side value)\r\n\t* @param {boolean} [options.closable=true] - Make notification closable flag\r\n\t* @param {boolean} [options.sticky=false] - Make notification sticky flag\r\n\t* @param {object} [options.renderTo=handler] - Dom object to render the notification in\r\n\t* @param {string} [options.CBtitle=Callback] - Notification callback title\r\n\t* @param {function} [options.callback=undefined] - Notification callback button\r\n\t* @returns {number} The newly created notification ID\r\n\t**/\r\n\tnew(options) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] new()'); }\r\n\r\n\t\t// Check for mandatory arguments existence\r\n\t\tif (options === undefined || options.type === undefined || (options.message === undefined || options.message === '')) {\r\n\t\t\tconsole.error('[ Notification ] new() | Notification type or message is undefined\\n' +\r\n\t\t\t'Those two fields are required to build a notification, check your .new() call');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check for unclosable at all notification\r\n\t\tif (options.sticky && options.closable === false && options.callback === undefined) {\r\n\t\t\tconsole.error('[ Notification ] new() | Given options are that notification can not be closed and is a sticky one\\n' +\r\n\t\t\t'You must provide a valid callback so there is a way to close the notification');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Test Notification inner variables validity\r\n\t\tif (this.DEBUG && options.type !== 'info' && options.type !== 'success' && options.type !== 'warning' && options.type !== 'error') {\r\n\t\t\tconsole.warn('[ Notification ] new() | Invalid value for type' +\r\n\t\t\t'\\nGiven type value of ' + options.type + ' has been replaced with ' + this._default.notification.type);\r\n\t\t\toptions.type = this._default.notification.type;\r\n\t\t}\r\n\r\n\t\tif (this._dismissAllLock) {\r\n\t\t\tthis._dismissAllLock = false; // Unlock dismissAllLock\r\n\t\t}\r\n\r\n\t\t// Build notification DOM element according to the given options\r\n\t\tlet notification = this._buildUI({\r\n\t\t\tid: \t       Utils.idGenerator(options.type + '' + options.message, 5), // Generating an ID of 5 characters long from notification mandatory fields\r\n\t\t\ttype:        options.type,\r\n\t\t\tmessage:     options.message,\r\n\t\t\ttitle:       options.title       === undefined ? this._default.notification.title    : options.title,\r\n\t\t\tduration:    options.duration    === undefined ? this._duration           \t          : options.duration,\r\n\t\t\ticonless:    options.iconless    === undefined ? this._default.notification.iconless : options.iconless,\r\n\t\t\tthickBorder: options.thickBorder === undefined ? this._thickBorder    \t\t\t\t  \t\t  : options.thickBorder,\r\n\t\t\tclosable:    options.closable    === undefined ? this._default.notification.closable : options.closable,\r\n\t\t\tsticky:      options.sticky      === undefined ? this._default.notification.sticky   : options.sticky,\r\n\t\t\trenderTo:    options.renderTo    === undefined ? this._default.notification.renderTo : options.renderTo,\r\n\t\t\tCBtitle:     options.CBtitle     === undefined ? this._default.notification.CBtitle  : options.CBtitle,\r\n\t\t\tcallback:    options.callback    === undefined ? this._default.notification.callback : options.callback,\r\n\t\t\tisDimmed:    false, // Only usefull if sticky is set to true\r\n\t\t});\r\n\r\n\t\t// Create a new notification in the container: No notification with the same ID is already open\r\n\t\tif (!this._active[notification.id]) {\r\n\t\t\tthis._start(notification);\r\n\t\t}\r\n\r\n\t\t// Use existing notification: increment request count and reset timeout\r\n\t\telse {\r\n\t\t\tthis._resetTimeout(this._active[notification.id]);\r\n\t\t\tthis._incrementRequestCounter(this._active[notification.id]);\r\n\t\t\tnotification = {}; // Clear local new notification since it already exists in this._active\r\n\t\t}\r\n\r\n\t\treturn notification.id;\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name info\r\n\t* @public\r\n\t* @memberof Notification\r\n\t* @summary Call a new info notification\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Build an info notification\r\n\t* @param {object} options - The notification options object (see new() arguments since this is an abstraction of new())\r\n\t* @returns {number} The newly created notification ID\r\n\t**/\r\n\tinfo(options) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] info()'); }\r\n\r\n\t\toptions.type = 'info';\r\n\t\treturn this.new(options);\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name success\r\n\t* @public\r\n\t* @memberof Notification\r\n\t* @summary Call a new success notification\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Build a success notification\r\n\t* @param {object} options - The notification options object (see new() arguments since this is an abstraction of new())\r\n\t* @returns {number} The newly created notification ID\r\n\t**/\r\n\tsuccess(options) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] success()'); }\r\n\r\n\t\toptions.type = 'success';\r\n\t\treturn this.new(options);\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name warning\r\n\t* @public\r\n\t* @memberof Notification\r\n\t* @summary Call a new warning notification\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Build a warning notification\r\n\t* @param {object} options - The notification options object (see new() arguments since this is an abstraction of new())\r\n\t* @returns {number} The newly created notification ID\r\n\t**/\r\n\twarning(options) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] warning()'); }\r\n\r\n\t\toptions.type = 'warning';\r\n\t\treturn this.new(options);\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name error\r\n\t* @public\r\n\t* @memberof Notification\r\n\t* @summary Call a new error notification\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Build an error notification\r\n\t* @param {object} options - The notification options object (see new() arguments since this is an abstraction of new())\r\n\t* @returns {number} The newly created notification ID\r\n\t**/\r\n\terror(options) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] error()'); }\r\n\r\n\t\toptions.type = 'error';\r\n\t\treturn this.new(options);\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name dismiss\r\n\t* @public\r\n\t* @memberof Notification\r\n\t* @summary Dismiss a notification\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Dismiss a specific notification via its ID\r\n\t* @param {number} id - The notification ID to dismiss\r\n\t**/\r\n\tdismiss(id) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] ' + id + '.dismis()'); }\r\n\r\n\t\twindow.clearTimeout(this._active[id].timeoutID); // Clear notification timeout\r\n\r\n\t\tif (this._active[id].requestCount > 1) { // Several request are pending\r\n\t\t\tthis._clearRequestCount(this._active[id]); // Clear all pending request\r\n\t\t}\r\n\r\n\t\tthis._close(this._active[id]); // Close notification\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name dismissAll\r\n\t* @public\r\n\t* @memberof Notification\r\n\t* @summary Dismiss all visible notifications\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Clear the notification handler from all its active notifications\r\n\t**/\r\n\tdismissAll() {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] dismisAll()'); }\r\n\r\n\t\t// Check that _dimissAllLock is disable and that there is still notification displayed\r\n\t\tif (!this._dismissAllLock && Object.keys(this._active).length !== 0) {\r\n\t\t\tthis._dismissAllLock = true; // dismissAllLock will be unlocked at the last _close() method call\r\n\t\t\tthis._queue = {}; // Clear queue object\r\n\r\n\t\t\tfor (let id in this._active) { // Iterate over notifications\r\n\t\t\t\tthis.dismiss(id);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @method\r\n\t* @name dismissType\r\n\t* @public\r\n\t* @memberof Notification\r\n\t* @summary Dismiss typed notifications\r\n\t* @author Arthur Beaulieu\r\n\t* @since June 2018\r\n\t* @description Dismiss all notifications from a given type\r\n\t* @param {string} type - <i>succes; info; warning; error;</i>\r\n\t**/\r\n\tdismissType(type) {\r\n\t\tif (this.DEBUG) { console.log('[ Notification ] dismisType()'); }\r\n\r\n\t\t// Check that _dimissAllLock is disable and that there is still notification displayed\r\n\t\tif (Object.keys(this._active).length !== 0) {\r\n\t\t\tfor (let id in this._active) { // Iterate over notifications\r\n\t\t\t\tif (this._active[id].type === type) {\r\n\t\t\t\t\tthis.dismiss(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//  --------------------------------  GETTER METHODS   --------------------------------  //\r\n\r\n\tgetHistoryLength() { return this._history.length; }\r\n\tgetHistory() { return this._history; }\r\n\r\n}\r\n\r\nexport default Notification;\r\n","class ScrollBar {\n  constructor(options) {\n    // https://github.com/buzinas/simple-scrollbar <3\n    this._target = options.target; // Parent div to put the ScrollBar in\n    this._wrapper = {}; // Wrap both container and ScrollBar\n    this._container = {}; // Content to scroll + browser ScrollBar (18px offset)\n    this._bar = {} // ScrollBar itself\n    this._scrollRatio = 0;\n    this._lastPageY = 0;\n\n    this._init();\n    this._events();\n    this._updateScrollBar();\n  }\n\n  _init() {\n    // Creating associated elements (wrapper, container, bar)\n    this._target.classList.add('scrollbar-container');\n    this._wrapper = document.createElement('DIV');\n    this._wrapper.setAttribute('class', 'scrollbar-wrapper');\n    this._container = document.createElement('DIV');\n    this._container.setAttribute('class', 'scrollbar-content');\n    // Move target children into this container\n    while (this._target.firstChild) {\n      this._container.appendChild(this._target.firstChild);\n    }\n    // Link DOM elements\n    this._wrapper.appendChild(this._container);\n    this._target.appendChild(this._wrapper); // TODO : replace with fragment\n    this._target.insertAdjacentHTML('beforeend', '<div class=\"scroll\"></div>');\n    this._bar = this._target.lastChild; // Get content from line just over this!\n    // Methods auto binding with this to be able to add/remove listeners easily\n    this._drag = this._drag.bind(this);\n    this._stopDrag = this._stopDrag.bind(this);\n  }\n\n  _events() {\n    window.addEventListener('resize', this._updateScrollBar.bind(this));\n    this._container.addEventListener('scroll', this._updateScrollBar.bind(this));\n    this._container.addEventListener('mouseenter', this._updateScrollBar.bind(this));\n    this._bar.addEventListener('mousedown', this._barClicked.bind(this));\n  }\n\n  _drag(event) {\n    let delta = event.pageY - this._lastPageY;\n    this._lastPageY = event.pageY;\n    requestAnimationFrame(() => {\n      this._container.scrollTop += (delta / this._scrollRatio);\n    });\n  }\n\n  _barClicked(event) {\n    this._lastPageY = event.pageY;\n    this._bar.classList.add('scrollbar-grabbed');\n    document.body.classList.add('scrollbar-grabbed');\n    document.addEventListener('mousemove', this._drag);\n    document.addEventListener('mouseup', this._stopDrag);\n  }\n\n  _stopDrag() {\n    this._bar.classList.remove('scrollbar-grabbed');\n    document.body.classList.remove('scrollbar-grabbed');\n    document.removeEventListener('mousemove', this._drag);\n    document.removeEventListener('mouseup', this._stopDrag);\n  }\n\n  _updateScrollBar() {\n    let totalHeight = this._container.scrollHeight,\n        ownHeight = this._container.clientHeight,\n        right = (this._target.clientWidth - this._bar.clientWidth) * -1;\n\n    this._scrollRatio = ownHeight / totalHeight;\n    requestAnimationFrame(() => {\n      if (this._scrollRatio >= 1) { // Hide scrollbar if no scrolling is possible\n        this._bar.classList.add('hidden');\n      }\n\n      else {\n        let height = (Math.max(this._scrollRatio * 100, 5) * ownHeight) / 100;\n        let top = ((this._container.scrollTop / totalHeight) * 100) * ownHeight / 100;\n\n        if (Math.max(this._scrollRatio * 100, 5) === 5) {\n          let scrollProgressPercentage = (this._container.scrollTop * 100) / (totalHeight - ownHeight);\n          top = ((ownHeight - height) * (((this._container.scrollTop + (scrollProgressPercentage * ownHeight) / 100) / totalHeight) * 100)) / 100;\n        }\n\n        this._bar.classList.remove('hidden');\n        this._bar.style.cssText = `height: ${height}px; top: ${top}px; right: ${right}px;`;\n      }\n    });\n  }\n}\n\nexport default ScrollBar;\n","class Shortcut {\n  /* Usefull keys :\n    ArrowUp, ArrowDown, ArrowLeft, ArrowRight\n  */\n  constructor() {\n    this._singleKey = [];\n    this._multiKey = [];\n\n    this._testShortcuts = this._testShortcuts.bind(this);\n  }\n\n  _addEvents() {\n    document.addEventListener('keydown', this._testShortcuts);\n    document.addEventListener('keypress', this._testShortcuts);\n  }\n\n  _removeEvents() {\n    document.removeEventListener('keydown', this._testShortcuts);\n    document.removeEventListener('keypress', this._testShortcuts);\n  }\n\n  _testShortcuts(event) {\n    if (!(event.ctrlKey && event.shiftKey && event.key === 'R')) {\n      event.preventDefault();\n    }\n\n    if (event.ctrlKey || event.altKey || event.shiftKey) { // Multi key shortcut\n      for (let i = 0; i < this._multiKey.length; ++i) {\n        let shortcut = this._multiKey[i];\n\n        if (!shortcut.pause && shortcut.key === event.key.toLowerCase()) {\n          switch (shortcut.modifierCount) {\n            case 1:\n              if ((shortcut.modifiers.ctrlKey && event.ctrlKey)\n              || (shortcut.modifiers.altKey && event.altKey)\n              || (shortcut.modifiers.shiftKey && event.shiftKey)) {\n                shortcut.fire();\n                return;\n              }\n              break;\n            case 2:\n              if ((shortcut.modifiers.ctrlKey && event.ctrlKey && shortcut.modifiers.altKey && event.altKey)\n              || (shortcut.modifiers.ctrlKey && event.ctrlKey && shortcut.modifiers.shiftKey && event.shiftKey)\n              || (shortcut.modifiers.altKey && event.altKey && shortcut.modifiers.shiftKey && event.shiftKey)) {\n                shortcut.fire();\n                return;\n              }\n              break;\n            case 3:\n              if ((shortcut.modifiers.ctrlKey && event.ctrlKey\n              && shortcut.modifiers.altKey && event.altKey\n              && shortcut.modifiers.shiftKey && event.shiftKey)) {\n                shortcut.fire();\n                return;\n              }\n              break;\n          }\n        }\n      }\n    }\n\n    else { // Single key shortcut\n      for (let i = 0; i < this._singleKey.length; ++i) {\n        let shortcut = this._singleKey[i];\n\n        if (!shortcut.pause && shortcut.key === event.key.toLowerCase()) {\n          shortcut.fire(this);\n          return;\n        }\n      }\n    }\n  }\n\n  _getModifiersCount(keyString) {\n    let count = 0;\n    let modifiers = {\n      ctrlKey: /ctrl/i.test(keyString),\n      altKey: /alt/i.test(keyString),\n      shiftKey: /shift/i.test(keyString)\n    };\n\n    if (modifiers.ctrlKey) ++count;\n    if (modifiers.altKey) ++count;\n    if (modifiers.shiftKey) ++count;\n\n    return count;\n  }\n\n  _setAllPauseFlag(value) {\n    for (let i = 0; i < this._singleKey.length; ++i) {\n      this._setPauseStatus(this._singleKey[i].keyString, value);\n    }\n\n    for (i = 0; i < this._multiKey.length; ++i) {\n      this._setPauseStatus(this._multiKey[i].keyString, value);\n    }\n  }\n\n  _setOnePauseFlag(keyString, value) {\n    if (this._getModifiersCount(keyString) === 0) {\n      for (let i = 0; i < this._singleKey.length; ++i) {\n        if (this._singleKey[i].keyString === keyString) {\n          this._singleKey[i].pause = value;\n        }\n      }\n    }\n\n    else {\n      for (let i = 0; i < this._multiKey.length; ++i) {\n        if (this._multiKey[i].keyString === keyString) {\n          this._multiKey[i].pause = value;\n        }\n      }\n    }\n  }\n\n  register(keyString, fire) {\n    let shortcut = {\n      keyString: keyString,\n      modifiers: {\n        ctrlKey: /ctrl/i.test(keyString),\n        altKey: /alt/i.test(keyString),\n        shiftKey: /shift/i.test(keyString)\n      },\n      modifierCount: this._getModifiersCount(keyString),\n      key: keyString.substr(keyString.lastIndexOf('+') + 1).toLowerCase(),\n      paused: false,\n      fire: fire\n    };\n\n    if (this._singleKey.length === 0 || this._multiKey.length === 0) {\n      this._addEvents();\n    }\n\n    (!shortcut.modifiers.ctrlKey && !shortcut.modifiers.shiftKey && !shortcut.modifiers.altKey && !shortcut.modifiers.metaKey) ?\n      this._singleKey.push(shortcut):\n      this._multiKey.push(shortcut);\n  }\n\n  remove(keyString) {\n    if (this._getModifiersCount(keyString) === 0) {\n      for (let i = this._singleKey.length - 1; i >= 0; i--) {\n        if (this._singleKey[i].key === keyString.toLowerCase()) {\n          this._singleKey.splice(i, 1);\n        }\n      }\n    }\n\n    else {\n      for (let i = this._multiKey.length - 1; i >= 0; i--) {\n        if (this._multiKey[i].key === keyString.toLowerCase()) {\n          this._multiKey.splice(i, 1);\n        }\n      }\n    }\n\n    if (this._singleKey.length === 0 && this._multiKey.length === 0) {\n      this._removeEvents();\n    }\n  }\n\n  resume(keyString) {\n    this._setOnePauseFlag(keyString, false);\n  }\n\n  pause(keyString) {\n    this._setOnePauseFlag(keyString, true);\n  }\n\n  removeAll() {\n    this._singleKey = [];\n    this._multiKey = [];\n    this._removeEvents();\n  }\n\n  resumeAll() {\n    this._setAllPauseFlag(false);\n  }\n\n  pauseAll() {\n    this._setAllPauseFlag(true);\n  }\n}\n\nexport default Shortcut;\n","class Utils {\n  constructor() {}\n\n  precisionRound(value, precision) {\n    let multiplier = Math.pow(10, precision || 0);\n    return Math.round(value * multiplier) / multiplier;\n  }\n\n  secondsToTimecode(time) {\n      let transformedTime = {\n          d: 0,\n          h: 0,\n          m: 0,\n          s: 0\n      };\n      // Cutting total seconds\n      transformedTime.d = Math.floor(time / 86400);\n      transformedTime.h = Math.floor((time - (transformedTime.d * 86400)) / 3600);\n      transformedTime.m = Math.floor((time - (transformedTime.d * 86400) - (transformedTime.h * 3600)) / 60);\n      transformedTime.s = Math.floor(time - (transformedTime.d * 86400) - (transformedTime.h * 3600) - (transformedTime.m * 60));\n      // Adding an extra 0 for values inferior to 10\n      transformedTime.d = transformedTime.d < 10 ? \"0\" + transformedTime.d : transformedTime.d;\n      transformedTime.h = transformedTime.h < 10 ? \"0\" + transformedTime.h : transformedTime.h;\n      transformedTime.m = transformedTime.m < 10 ? \"0\" + transformedTime.m : transformedTime.m;\n      transformedTime.s = transformedTime.s < 10 ? \"0\" + transformedTime.s : transformedTime.s;\n      // Formatting output\n      if (transformedTime.d > 0) {\n          return transformedTime.d + \"d \" + transformedTime.h + \"h \" + transformedTime.m + \"m \" + transformedTime.s + \"s\";\n      }\n\n      else if (transformedTime.h > 0) {\n          return transformedTime.h + \":\" + transformedTime.m + \":\" + transformedTime.s;\n      }\n\n      else {\n          return transformedTime.m + \":\" + transformedTime.s;\n      }\n  }\n\n  /**\n\t* @method\n\t* @name _idGenerator\n\t* @private\n\t* @memberof Notification\n\t*\n\t* @summary Generate an ID\n\t* @author Arthur Beaulieu\n\t* @since June 2018\n\t* @description Hash the seed to generate an ID\n\t*\n\t* @param {string} seed   - The seed string to hash\n\t* @param {number} length - The length of the returned ID\n\t**/\n  idGenerator(seed, length) {\n    /* Original code from:\n    * http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/\n    * Tweaked to fit Notification class needs\n    */\n    let hash \t  = 0,\n    character = '';\n\n    if (seed.length === 0 || length > 12) { return undefined; }\n\n    for (let i = 0; i < seed.length; ++i) {\n      character = seed.charCodeAt(i);\n\n      hash  = ((hash << 5) - hash) + character;\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return (Math.abs(hash).toString(36) + '' + Math.abs(hash / 2).toString(36).split('').reverse().join('')).substring(0, length).toUpperCase(); // Here is the twekead line\n  }\n\n  getCookies() {\n    let cookies = {};\n    if (document.cookie && document.cookie !== '') {\n      document.cookie.split(';').forEach(function (cookie) {\n        let m = cookie.trim().match(/(\\w+)=(.*)/);\n        if (m !== undefined) { cookies[m[1]] = decodeURIComponent(m[2]); }\n      });\n    }\n    return cookies;\n  }\n}\n\nexport default Utils;\n","import FootBar from './footbar/FootBar.js'\nimport Aside from './maincontainer/Aside.js'\nimport ListView from './maincontainer/views/ListView.js'\n\nclass View {\n  constructor() {\n    this._init();\n  }\n\n  _init() {\n    this.mainContainer = document.getElementById('mainContainer'); // Used when switching Discover (anciennement modes (partyview, managotit etc))\n\n    this._leftAside = new Aside({ side: 'left' });\n    this._rightAside = new Aside({ side: 'right' });\n    this._scene = document.getElementById('scene');\n\n    this.footBar = new FootBar();\n    this.footBar.getVolumeBar().updateVolume(mzk.getIsMuted(), mzk.getVolume()); // TODO : replace with mzk.getUserVolume() or from localStorage or from opts (serv)\n\n    this.test();\n  }\n\n  changeTrack(isPlaying) {\n    this.togglePlay(isPlaying);\n    this.footBar.getProgressBar().updateDuration(mzk.model.getPlayer().getDuration());\n  }\n\n  togglePlay(isPlaying) {\n    this.footBar.updatePlayButton(isPlaying);\n\n    if (isPlaying) {\n      this.footBar.getProgressBar().activate();\n    }\n/*\n    else if (!isPlaying) {\n      this.footBar.getProgressBar().desactivate();\n    }\n*/\n  }\n\n  stopPlayback(hasSource) {\n    this.footBar.updatePlayButton(false); // Send !isPlaying to restore play icon\n    this.footBar.getProgressBar().resetProgressBar();\n    this.footBar.getProgressBar().resetTimecode();\n  }\n\n  updateVolume(isMuted, volume) {\n    this.footBar.getVolumeBar().updateVolume(isMuted, volume);\n\n    document.getElementById(\"vo\").innerHTML = 'Volume: ' + volume;\n    !isMuted ? document.getElementById(\"mute\").innerHTML = 'Mute' : document.getElementById(\"mute\").innerHTML = 'UnMute';\n  }\n\n  updateProgress(progress) { // Called onClick\n    this.footBar.getProgressBar().desactivateTransitions(); // Must disable transition when called\n\n    this.footBar.getProgressBar().setProgress(progress);\n    document.getElementById(\"seak\").innerHTML = progress + ' %';\n\n    setTimeout(function() { // Restore transitions\n      this.footBar.getProgressBar().activateTransitions();\n    }.bind(this), 50); // 5 is fine, but 50 is more 'lag friendly'\n  }\n\n  test() { // This has to go when controls are a thing\n    let tracks = [];\n\n  \tfor (let i = 0; i < 5; ++i) {\n  \t\tif (i % 2 === 0) {\n  \t\t\ttracks.push({\n  \t\t\t\tid: 5,\n  \t\t\t\ttitle: '96 Quite Bitter Beings',\n  \t\t\t\tartist: 'aCKY',\n  \t\t\t\tcomposer: 'cMetallica',\n          performer: 'pSoundRemedy',\n  \t\t\t\talbum: 'Volume 1',\n  \t\t\t\tgenre: 'Rock',\n  \t\t\t\tduration: '01:03:21'\n  \t\t\t});\n  \t\t}\n\n  \t\telse {\n  \t\t\ttracks.push({\n  \t\t\t\tid: 52,\n  \t\t\t\ttitle: 'Hun',\n  \t\t\t\tartist: 'Mr. Oizo',\n  \t\t\t\tcomposer: 'Metallica',\n  \t\t\t\talbum: 'Lambs Anger',\n  \t\t\t\tgenre: 'French Touch',\n  \t\t\t\tduration: '02:12'\n  \t\t\t});\n  \t\t}\n  \t}\n\n  \tlet options = {\n  \t\t\tcolumns: [\n          {\n  \t\t\t\t\tname: 'Duration',\n            order: 0,\n  \t\t\t\t\twidth: '10'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Title',\n            order: 1,\n  \t\t\t\t\twidth: '20'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Artist',\n            order: 2,\n  \t\t\t\t\twidth: '14'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Composer',\n            order: 3,\n  \t\t\t\t\twidth: '14'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Performer',\n            order: 4,\n  \t\t\t\t\twidth: '14'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Album',\n            order: 5,\n  \t\t\t\t\twidth: '14'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Genre',\n            order: 6,\n  \t\t\t\t\twidth: '14'\n  \t\t\t\t}\n  \t\t\t],\n  \t\t\ttarget: this._scene,\n  \t\t\tavailableColumns: [\n          {\n  \t\t\t\t\tname: 'Duration',\n            order: 0,\n  \t\t\t\t\twidth: '10'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Title',\n            order: 1,\n  \t\t\t\t\twidth: '20'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Artist',\n            order: 2,\n  \t\t\t\t\twidth: '14'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Composer',\n            order: 3,\n  \t\t\t\t\twidth: '14'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Performer',\n            order: 4,\n  \t\t\t\t\twidth: '14'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Album',\n            order: 5,\n  \t\t\t\t\twidth: '14'\n  \t\t\t\t},\n  \t\t\t\t{\n  \t\t\t\t\tname: 'Genre',\n            order: 6,\n  \t\t\t\t\twidth: '14'\n  \t\t\t\t}\n  \t\t\t]\n  \t\t};\n\n    let view = new ListView(options);\n\n    setTimeout(() => {\n      view.addTracks(tracks);\n\n      setTimeout(() => {\n        //view.addTracks(tracks);\n      }, 500)\n    }, 50);\n/*\n    let d, e, f, g, h, i, j, k, l, m, n, o;\n    d = document.getElementById(\"change\");\n    h = document.getElementById(\"change1\");\n    e = document.getElementById(\"mute\");\n    i = document.getElementById(\"vd\");\n    j = document.getElementById(\"vu\");\n    k = document.getElementById(\"seak\");\n    l = document.getElementById(\"rewind\");\n    m = document.getElementById(\"ff\");\n    n = document.getElementById(\"vh\");\n    o = document.getElementById(\"half\");\n\n    d.addEventListener('click', function() { mzk.changeTrack(5); });\n    h.addEventListener('click', function() { mzk.changeTrack(7); });\n    e.addEventListener('click', function() { mzk.toggleMute(); });\n    i.addEventListener('click', function() { mzk.adjustVolume(-0.1); });\n    j.addEventListener('click', function() { mzk.adjustVolume(0.1); });\n    n.addEventListener('click', function() { mzk.setVolume(0.5); });\n    l.addEventListener('click', function() { mzk.adjustProgress(-10); });\n    m.addEventListener('click', function() { mzk.adjustProgress(10); });\n    o.addEventListener('click', function() { mzk.setProgress(50); });\n*/\n\n    Notification.info({ message: 'Success UI start' });\n  }\n\n  getFootBar() { return this.footBar; }\n}\n\nexport default View;\n","import VolumeBar from './components/VolumeBar.js'\nimport ProgressBar from './components/ProgressBar.js'\n\nclass FootBar {\n  constructor() {\n    this._controls = {\n      play: {},\n      stop: {},\n      volume: {}\n    }\n    this._volumeBar = {};\n    this._progressBar = {};\n\n    this._init();\n    this._events();\n  }\n\n  _init() {\n    this._controls.play = document.getElementById('play');\n    this._controls.stop = document.getElementById('stop');\n\n    this._volumeBar = new VolumeBar();\n    this._progressBar = new ProgressBar();\n  }\n\n  _events() {\n    this._controls.play.addEventListener('click', () => { mzk.togglePlay(); });\n    this._controls.stop.addEventListener('click', () => { mzk.stopPlayback(); });\n  }\n\n  updatePlayButton(isPlaying) {\n    if (isPlaying) {\n      this._controls.play.src = '../../static/img/player/pause.svg';\n    }\n\n    else if (!isPlaying) {\n      this._controls.play.src = '../../static/img/player/play.svg';\n    }\n  }\n\n  updateVolume(isMuted, volume) {\n\n  }\n\n  getProgressBar() { return this._progressBar; }\n  getVolumeBar() { return this._volumeBar; }\n}\n\nexport default FootBar;\n","class ProgressBar {\n\n  \tconstructor() {\n  \t\tthis._progress = { container: {}, track: {}, current: {}, thumb: {}, hover: {}, moodbar: {}, left: {}, right: {} }; // DOM elements\n      this._topbarLogo = {};\n      this._rafId = null;\n      this._duration = 0;\n\n  \t\tthis._isActive = false; // Boolean flag to make listeners available/unavailable\n  \t\tthis._isMouseOver = false;\n  \t\tthis._isDragging = false;\n\n  \t\tthis._init();\n  \t}\n\n\n  \t_init() {\n  \t\tthis._progress.container = document.getElementById('progress-container');\n  \t\tthis._progress.track = document.getElementById('progress-track');\n  \t\tthis._progress.current = document.getElementById('progress-current');\n  \t\tthis._progress.thumb = document.getElementById('progress-thumb');\n  \t\tthis._progress.hover = document.getElementById('progress-hover');\n  \t\tthis._progress.moodbar = document.getElementById('progress-moodbar');\n      this._progress.left = document.getElementById('footbar-left');\n      this._progress.right = document.getElementById('footbar-right');\n      this._topbarLogo = document.getElementById('topbar-logo');\n\n      this._resetTimecode();\n\n      // In order to remove event listeners in _removeEvents()\n      this._mouseDown = this._mouseDown.bind(this);\n      this._mouseMove = this._mouseMove.bind(this);\n      this._mouseUp = this._mouseUp.bind(this);\n      this._updateMouseOver = this._updateMouseOver.bind(this);\n  \t}\n\n    _addEvents() {\n      this._progress.container.addEventListener('mousedown', this._mouseDown);\n      this._progress.container.addEventListener('mouseover', this._updateMouseOver);\n  \t\tthis._progress.container.addEventListener('mouseleave', this._updateMouseOver);\n      window.addEventListener('mousemove', this._mouseMove);\n      window.addEventListener('mouseup', this._mouseUp);\n    }\n\n    _removeEvents() {\n      this._progress.container.removeEventListener('mousedown', this._mouseDown);\n      this._progress.container.removeEventListener('mouseover', this._updateMouseOver);\n  \t\tthis._progress.container.removeEventListener('mouseleave', this._updateMouseOver);\n      window.removeEventListener('mousemove', this._mouseMove);\n      window.removeEventListener('mouseup', this._mouseUp);\n    }\n\n  \t_updateMouseOver(event) {\n  \t\tif (event.type === 'mouseover') {\n        this._progress.hover.style.opacity = '1'; // Automatic CSS transition\n  \t\t\tthis._isMouseOver = true;\n  \t\t}\n\n  \t\telse if (event.type === 'mouseleave') {\n        this._progress.hover.style.opacity = '0'; // Automatic CSS transition\n  \t\t\tthis._isMouseOver = false;\n  \t\t}\n  \t}\n\n  \t_updateHoverTimecode(xPos) {\n      let boundRect = this._progress.track.getBoundingClientRect();\n      let percentage = ((xPos - boundRect.left) * 100) / boundRect.width;\n\n      if (percentage > 100) { percentage = 100; }\n      if (percentage < 0)   { percentage = 0;   }\n\n  \t\tthis._progress.hover.style.left = ((((boundRect.width * percentage) / 100) - 30) * 100) / boundRect.width + \"%\";\n      this._progress.hover.innerHTML = Utils.secondsToTimecode((percentage * this._duration) / 100);\n   \t}\n\n  \t_mouseDown(event) {\n  \t\tif (!this._isDragging && (event.target.id === 'progress-moodbar' ||event.target.id === 'progress-container' || event.target.id === 'progress-track' || event.target.id === 'progress-current' || event.target.id === 'progress-thumb')) {\n        mzk.mute();\n        this._isDragging = true;\n        this._stopAnimation();\n  \t\t\tthis._moveProgress(event.clientX);\n  \t\t}\n  \t}\n\n  \t_mouseUp(event) {\n  \t\tif (this._isDragging) { // User has released progress thumb\n        mzk.unmute();\n  \t\t  this._isDragging = false;\n  \t\t  this._startAnimation();\n        this._moveProgress(event.clientX);\n  \t\t}\n  \t}\n\n  \t_mouseMove(event) {\n  \t\tif (this._isActive && this._isDragging) { // User is draging progress thumb\n  \t\t\tthis._moveProgress(event.clientX);\n  \t\t}\n\n      else if (this._isActive && this._isMouseOver) { // Hover on progress track\n        this._updateHoverTimecode(event.clientX);\n  \t\t}\n  \t}\n\n  \t_moveProgress(xPos) {\n  \t\t\tlet boundRect = this._progress.track.getBoundingClientRect();\n        let distance = ((xPos - boundRect.left) * 100) / boundRect.width;\n\n        if (distance < 0) { distance = 0; }\n        if (distance > 100) { distance = 100; }\n\n        mzk.setProgress(Utils.precisionRound(distance, 3));\n  \t}\n\n    _animate() {\n      this.setProgress(mzk.getProgress());\n    }\n\n  \t_startAnimation() {\n  \t\tif (this._isActive) {\n  \t\t\tthis._animate();\n  \t\t\tthis._rafId = requestAnimationFrame(this._startAnimation.bind(this));\n  \t\t}\n  \t}\n\n  \t_stopAnimation() {\n  \t\tif (!this._isActive) {\n  \t\t\tcancelAnimationFrame(this._rafId);\n  \t\t}\n  \t}\n\n    _resetTimecode() {\n      setTimeout(function() {\n        this._progress.left.innerHTML = '--:--';\n    \t\tthis._progress.right.innerHTML = '--:--';\n        this._progress.hover.innerHTML = '--:--';\n      }.bind(this), 500); // Match value with the one in scss/view/components/_progresbar.scss -> $footbar-transition\n  \t}\n\n    resetProgressBar() {\n      this.setProgress(0);\n      this.desactivate();\n    }\n\n    activateTransitions() {\n      this._progress.thumb.style.transition = 'left 0.4s ease 0s, opacity 0.4s ease 0s'; // Match transition duration w/ the one in view/_footbar.scss ($footbar-transition)\n      this._progress.current.style.transition = 'width 0.4s ease 0s'; // Match transition duration w/ the one in view/_footbar.scss ($footbar-transition)\n    }\n\n    desactivateTransitions() {\n      // Here we need to set transition value to 0s to avoid lag on current and thumb when progress bar is active\n      // Lag duration will be equal to the transition time otherwise\n      this._progress.thumb.style.transition = 'left 0s ease 0s, opacity 0.4s ease 0s'; // Reset left transition to default, match transition duration w/ the one in view/_footbar.scss ($footbar-transition)\n      this._progress.current.style.transition = 'width 0s ease 0s'; // Reset width transition to default\n    }\n\n  \ttoggleActive() {\n  \t\t!this._isActive ? this.activate(): this.desactivate();\n  \t}\n\n  \tactivate() {\n      this._isActive = true;\n      this.setVisibility(true);\n      this._startAnimation();\n      this.activateTransitions(); // TODO : add transition in startAnimation\n      this._addEvents();\n  \t}\n\n  \tdesactivate() {\n      this._isActive = false;\n      this.setVisibility(false);\n      this._resetTimecode();\n      this._removeEvents();\n      this._stopAnimation();\n\n      setTimeout(function() { // Delay no animation style for thumb and current (both come at 0% in 0.5s interval)\n        this.desactivateTransitions();\n      }.bind(this), 500); // Use same timeout value as the transition value set in resetProgressBar(), so animation can run properly\n  \t}\n\n  \tadjustProgress(amount) {\n  \t\tthis.setProgress(0 + amount);\n  \t}\n\n    updateDuration(duration) {\n      this._duration = duration;\n      this._progress.right.innerHTML = Utils.secondsToTimecode(duration);\n    }\n\n  \tsetProgress(percentage) {\n  \t\tif (this._isActive) {\n  \t\t\tthis._progress.current.style.width = percentage + '%';\n  \t\t\tthis._progress.thumb.style.left = percentage + '%';\n        this._progress.left.innerHTML = Utils.secondsToTimecode((percentage * this._duration) / 100);\n  \t\t}\n  \t}\n\n    setVisibility(isVisible) {\n      if (isVisible) {\n        this._progress.moodbar.style.height = '25px'; // Match value w/ the one in view/components/_progresbar.scss ($progress-moodbar-height)\n        this._progress.moodbar.style.opacity = '1';\n        this._progress.moodbar.style.cursor = 'pointer';\n        this._progress.track.style.opacity = '1';\n        this._progress.track.style.cursor = 'pointer';\n        this._progress.thumb.style.opacity = '1';\n        this._progress.left.style.opacity = '1';\n        this._progress.right.style.opacity = '1';\n        this._topbarLogo.style.opacity = '1';\n      }\n\n      else if (!isVisible) {\n        this._progress.moodbar.style.height = '0';\n        this._progress.moodbar.style.opacity = '0';\n        this._progress.moodbar.style.cursor = 'default';\n        this._progress.track.style.opacity = '0';\n        this._progress.track.style.cursor = 'default';\n        this._progress.thumb.style.opacity = '0';\n        this._progress.left.style.opacity = '0';\n        this._progress.right.style.opacity = '0';\n        this._topbarLogo.style.opacity = '0';\n      }\n    }\n\n  \tsetIsActive(isActive) { this._isActive = isActive; }\n  \tsetIsMouseOver(isMouseOver) { this._isMouseOver = isMouseOver; }\n  \tsetIsDragging(isDragging) { this._isDragging = isDragging; }\n}\n\nexport default ProgressBar;\n","class VolumeBar {\n\n  constructor() {\n    this._volume = { image: {}, wrapper: {}, container: {}, current: {}, thumb: {} };\n    this._showHideTimeoutId = -1;\n    this.isDragging = false;\n\n    this._init();\n  }\n\n  //  --------------------------------  PRIVATE METHODS  --------------------------------  //\n\n  _init() {\n    this._volume = {\n      image: document.getElementById('volumebar-img'),\n      wrapper: document.getElementById('volumebar-wrapper'),\n      container: document.getElementById('volumebar-container'),\n      current: document.getElementById('volumebar-current'),\n      thumb: document.getElementById('volumebar-thumb')\n    };\n\n    this._events();\n  }\n\n  _events() {\n    this._volume.image.addEventListener('click', mzk.toggleMute.bind(mzk));\n    this._volume.container.addEventListener('mousedown', this._mouseDown.bind(this));\n    // this._volume.wrapper.addEventListener('mouseover', this._mouseOver.bind(this));\n\n    this._mouseMove = this._mouseMove.bind(this);\n    this._mouseUp = this._mouseUp.bind(this);\n  }\n\n  _mouseOver() {\n    clearTimeout(this._showHideTimeoutId);\n    this._showHideTimeoutId = -1;\n    this._showWrapper();\n  }\n\n  _mouseDown(event) {\n    if (!this.isDragging && (event.target.id === 'volumebar-wrapper' || event.target.id === 'volumebar-container' || event.target.id === 'volumebar-current' || event.target.id === 'volumebar-thumb')) {\n        this.isDragging = true;\n        this._moveVolume(event);\n        this._showWrapper();\n\n        window.addEventListener('mousemove', this._mouseMove);\n        window.addEventListener('mouseup', this._mouseUp);\n      }\n    }\n\n    _mouseMove(event) {\n      if (this.isDragging) {\n        this._moveVolume(event);\n      }\n    }\n\n    _mouseUp() {\n      if (this.isDragging) {\n        this.isDragging = false;\n        this._hideWrapper();\n\n        window.removeEventListener('mousemove', this._mouseMove);\n        window.removeEventListener('mouseup', this._mouseUp);\n      }\n    }\n\n    _hideWrapper() {\n      this._volume.wrapper.style.opacity = null;\n      this._volume.wrapper.style.visibility = null;\n    }\n\n    _showWrapper() {\n      this._volume.wrapper.style.opacity = 1;\n      this._volume.wrapper.style.visibility = 'visible';\n    }\n\n    _moveVolume(event) {\n      // Get container bound rectangle and compute difference in px and % (pr)\n      let boundRect = this._volume.container.getBoundingClientRect();\n      let toLeftInPx = event.clientX - boundRect.left; // Client X position minus container left X position equals X variation from container left side\n      let toLeftInPr = (toLeftInPx * 100) / boundRect.width; // Get width percentage depending on container width\n      // OOB protection\n      if (toLeftInPr > 100) { toLeftInPr = 100; }\n      if (toLeftInPr < 0) { toLeftInPr = 0; }\n      // Set mzk global volume\n      mzk.setVolume(toLeftInPr / 100);\n    }\n\n    startShowHide() {\n      if (this._showHideTimeoutId === -1) { this._showWrapper(); } // Show wrapp bc no timeout in progress\n      else { clearTimeout(this._showHideTimeoutId); } // Reset timeout to avoid wrapper blinking\n\n      this._showHideTimeoutId = setTimeout(() => {\n        this._showHideTimeoutId = -1; // Reset timeout id\n        this._hideWrapper();\n      }, 1000); // Transition time according to $transition-duration by 5 (utils/tools/_global.scss)\n    }\n\n    updateVolume(isMuted, volume) {\n      volume *= 100;\n      // Icon update\n      if (volume === 0 || (typeof isMuted === 'boolean' && isMuted === true)) { this._volume.image.src = \"/static/img/player/volume-mute.svg\"; }\n      else if (volume > 0 && volume < 66) { this._volume.image.src = \"/static/img/player/volume-half.svg\" }\n      else { this._volume.image.src = \"/static/img/player/volume-full.svg\"; }\n      // Current and thumb update\n      if (typeof isMuted === 'boolean' && isMuted === true) { volume = 0; } // To set volume current and thumb at 0% left when muted.\n      this._volume.current.style.width = volume + \"%\";\n      this._volume.thumb.style.left = volume + \"%\";\n    }\n  }\n\n  export default VolumeBar;\n","import AsideEntry from './AsideEntry.js'\n\nclass Aside {\n\n  constructor(options) {\n    this.side = options.side; // TODO sanitize options\n    this.dom = {};\n    this._open = {};\n    this._close = {};\n\n    this._init();\n  }\n\n  //  --------------------------------  PRIVATE METHODS  --------------------------------  //\n\n  _init() {\n    this.dom = document.getElementById(this.side + '-aside');\n    this.dom.style[this.side] = 0; // TODO verifier val this side\n\n    this._close = document.getElementById(this.side + '-aside-close');\n    this._open = document.getElementById(this.side + '-aside-open');\n\n//    let a = new AsideEntry({ title: 'Links' });\n//    this.dom.appendChild(a.getDom());\n\n    this.hide = this.hide.bind(this);\n    this.show = this.show.bind(this);\n\n    this._events();\n  }\n\n  _events() {\n    this._close.addEventListener('click', this.hide);\n    this._open.addEventListener('click', this.show);\n  }\n\n  hide() {\n    var viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    this.dom.style[this.side] = '-' + ((this.dom.offsetWidth * 100) / viewportWidth) + '%';\n    this._close.style.opacity = 0;\n    this._open.style.opacity = 1;\n  }\n\n  show() {\n    this.dom.style[this.side] = '0%';\n    this._close.style.opacity = 1;\n    this._open.style.opacity = 0;\n  }\n}\n\nexport default Aside;\n","class AsideEntry {\n\n  constructor(options) {\n    this.title = options.title;\n    this.dom = {};\n\n    this._init();\n  }\n\n  //  --------------------------------  PRIVATE METHODS  --------------------------------  //\n\n  _init() {\n    this.dom.title = document.createElement('P');\n    this.dom.title.innerHTML = this.title;\n  }\n\n  getDom() { return this.dom.title; }\n}\n\nexport default AsideEntry;\n","import ScrollBar from '../../../utils/ScrollBar.js'\n\nclass ListView {\n  constructor(options) {\n    this._availableColumns = options.availableColumns;\n    this._columns = options.columns;\n    this._tracks = [];\n    this._target = options.target;\n    this._scrollBar = {};\n    this._dom = { fragment: {}, wrapper: {}, header: {}, container: {}, options: {} };\n\n    this._draggedColumn = null;\n\n    this._init();\n    this._events();\n  }\n\n  _init() {\n    this._dom.fragment = document.createDocumentFragment();\n    this._dom.wrapper = document.createElement('DIV');\n    this._dom.header = document.createElement('DIV');\n    this._dom.container = document.createElement('DIV');\n    this._dom.options = document.createElement('IMG');\n\n    this._dom.wrapper.classList.add('listview');\n    this._dom.header.classList.add('header');\n    this._dom.container.classList.add('track-container');\n    this._dom.options.classList.add('options');\n    this._target.style.position = 'relative';\n\n    this._dom.options.src = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iQ2FwYV8xIgogICB4PSIwcHgiCiAgIHk9IjBweCIKICAgdmlld0JveD0iMCAwIDU0IDU0IgogICBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1NCA1NDsiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImdlYXIuc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkyLjIgNWMzZTgwZCwgMjAxNy0wOC0wNiI+PG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNDUiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnM0MyIgLz48c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iOTkxIgogICAgIGlkPSJuYW1lZHZpZXc0MSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iNC4zNzAzNzA0IgogICAgIGlua3NjYXBlOmN4PSIyNyIKICAgICBpbmtzY2FwZTpjeT0iMjciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjIyIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0iQ2FwYV8xIiAvPjxwYXRoCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBpZD0icGF0aDIiCiAgICAgZD0ibSAyNywxMyBjIC03LjcyLDAgLTE0LDYuMjggLTE0LDE0IDAsNy43MiA2LjI4LDE0IDE0LDE0IDcuNzIsMCAxNCwtNi4yOCAxNCwtMTQgMCwtNy43MiAtNi4yOCwtMTQgLTE0LC0xNCB6IG0gMCwyNiBjIC02LjYxNywwIC0xMiwtNS4zODMgLTEyLC0xMiAwLC02LjYxNyA1LjM4MywtMTIgMTIsLTEyIDYuNjE3LDAgMTIsNS4zODMgMTIsMTIgMCw2LjYxNyAtNS4zODMsMTIgLTEyLDEyIHoiCiAgICAgc3R5bGU9ImZpbGw6IzkxOTFhZjtmaWxsLW9wYWNpdHk6MSIgLz48cGF0aAogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgaWQ9InBhdGg0IgogICAgIGQ9Im0gNTEuMjIsMjEgaCAtMi4wMTggYyAtMC41MTUsLTEuOTEyIC0xLjI3MiwtMy43NDIgLTIuMjYsLTUuNDU3IGwgMS40MjYsLTEuNDI2IGMgMC41MjUsLTAuNTI1IDAuODE0LC0xLjIyNCAwLjgxNCwtMS45NjYgMCwtMC43NDMgLTAuMjg5LC0xLjQ0MSAtMC44MTQsLTEuOTY3IEwgNDMuODE1LDUuNjMxIGMgLTEuMDUsLTEuMDQ5IC0yLjg4MSwtMS4wNTEgLTMuOTMzLDAgTCAzOC40NTYsNy4wNTcgQyAzNi43NCw2LjA3IDM0LjkxMSw1LjMxMyAzMyw0Ljc5OCBWIDIuNzggQyAzMywxLjI0NyAzMS43NTMsMCAzMC4yMiwwIEggMjMuNzggQyAyMi4yNDcsMCAyMSwxLjI0NyAyMSwyLjc4IFYgNC43OTggQyAxOS4wODksNS4zMTMgMTcuMjYsNi4wNyAxNS41NDMsNy4wNTggTCAxNC4xMTcsNS42MzIgYyAtMS4wNTEsLTEuMDUyIC0yLjg4MywtMS4wNSAtMy45MzMsMCBsIC00LjU1Myw0LjU1MyBjIC0wLjUyNSwwLjUyNSAtMC44MTQsMS4yMjQgLTAuODE0LDEuOTY3IDAsMC43NDIgMC4yODksMS40NCAwLjgxNCwxLjk2NiBsIDEuNDI2LDEuNDI2IEMgNi4wNywxNy4yNTggNS4zMTIsMTkuMDg4IDQuNzk4LDIxIEggMi43OCBDIDEuMjQ3LDIxIDAsMjIuMjQ3IDAsMjMuNzggdiA2LjQzOSBDIDAsMzEuNzUzIDEuMjQ3LDMzIDIuNzgsMzMgaCAyLjAxOCBjIDAuNTE1LDEuOTExIDEuMjcyLDMuNzQgMi4yNiw1LjQ1NyBsIC0xLjQyNiwxLjQyNiBjIC0wLjUyNSwwLjUyNSAtMC44MTQsMS4yMjQgLTAuODE0LDEuOTY2IDAsMC43NDMgMC4yODksMS40NDEgMC44MTQsMS45NjcgbCA0LjU1Myw0LjU1MyBjIDEuMDUsMS4wNTEgMi44ODIsMS4wNTIgMy45MzMsMCBsIDEuNDI2LC0xLjQyNiBjIDEuNzE3LDAuOTg3IDMuNTQ2LDEuNzQ1IDUuNDU3LDIuMjYgdiAyLjAxOCBjIDAsMS41MzMgMS4yNDcsMi43OCAyLjc4LDIuNzggaCA2LjQzOSBjIDEuNTMzLDAgMi43OCwtMS4yNDcgMi43OCwtMi43OCB2IC0yLjAxOCBjIDEuOTExLC0wLjUxNSAzLjc0LC0xLjI3MiA1LjQ1NywtMi4yNiBsIDEuNDI2LDEuNDI2IGMgMS4wNTIsMS4wNTIgMi44ODIsMS4wNSAzLjkzMywwIGwgNC41NTMsLTQuNTUzIGMgMC41MjUsLTAuNTI1IDAuODE0LC0xLjIyNCAwLjgxNCwtMS45NjcgMCwtMC43NDIgLTAuMjg5LC0xLjQ0IC0wLjgxNCwtMS45NjYgTCA0Ni45NDMsMzguNDU3IEMgNDcuOTMsMzYuNzQgNDguNjg4LDM0LjkxMSA0OS4yMDMsMzMgaCAyLjAxOCBjIDEuNTMzLDAgMi43OCwtMS4yNDcgMi43OCwtMi43OCBWIDIzLjc4IEMgNTQsMjIuMjQ3IDUyLjc1MywyMSA1MS4yMiwyMSBaIE0gNTIsMzAuMjIgQyA1MiwzMC42NSA1MS42NSwzMSA1MS4yMiwzMSBoIC0zLjU5MiBsIC0wLjE4LDAuNzczIGMgLTAuNTIxLDIuMjM3IC0xLjM5OSw0LjM2IC0yLjYxMyw2LjMxMSBsIC0wLjQyLDAuNjc0IDIuNTM5LDIuNTM5IGMgMC4zMDUsMC4zMDUgMC4zMDUsMC44IDAsMS4xMDQgbCAtNC41NTMsNC41NTMgYyAtMC4zMDQsMC4zMDQgLTAuNzk5LDAuMzA2IC0xLjEwNCwwIGwgLTIuNTM5LC0yLjUzOSAtMC42NzQsMC40MiBjIC0xLjk1LDEuMjE0IC00LjA3MywyLjA5MyAtNi4zMTEsMi42MTMgTCAzMSw0Ny42MjggViA1MS4yMiBDIDMxLDUxLjY1IDMwLjY1LDUyIDMwLjIyLDUyIEggMjMuNzggQyAyMy4zNSw1MiAyMyw1MS42NSAyMyw1MS4yMiB2IC0zLjU5MiBsIC0wLjc3MywtMC4xOCBjIC0yLjIzNywtMC41MjEgLTQuMzYsLTEuMzk5IC02LjMxMSwtMi42MTMgbCAtMC42NzQsLTAuNDIgLTIuNTM5LDIuNTM5IGMgLTAuMzA2LDAuMzA2IC0wLjgwMSwwLjMwNCAtMS4xMDQsMCBMIDcuMDQ2LDQyLjQwMSBjIC0wLjMwNSwtMC4zMDUgLTAuMzA1LC0wLjggMCwtMS4xMDQgTCA5LjU4NSwzOC43NTggOS4xNjUsMzguMDg0IEMgNy45NTEsMzYuMTM0IDcuMDcyLDM0LjAxMSA2LjU1MiwzMS43NzMgTCA2LjM3MiwzMSBIIDIuNzggQyAyLjM1LDMxIDIsMzAuNjUgMiwzMC4yMiBWIDIzLjc4IEMgMiwyMy4zNSAyLjM1LDIzIDIuNzgsMjMgaCAzLjU5MiBsIDAuMTgsLTAuNzczIGMgMC41MjEsLTIuMjM4IDEuMzk5LC00LjM2MSAyLjYxMywtNi4zMTEgbCAwLjQyLC0wLjY3NCAtMi41MzksLTIuNTM5IGMgLTAuMzA1LC0wLjMwNSAtMC4zMDUsLTAuOCAwLC0xLjEwNCBsIDQuNTUzLC00LjU1MyBjIDAuMzA0LC0wLjMwNCAwLjc5OSwtMC4zMDYgMS4xMDQsMCBsIDIuNTM5LDIuNTM5IDAuNjc0LC0wLjQyIGMgMS45NSwtMS4yMTQgNC4wNzMsLTIuMDkzIDYuMzExLC0yLjYxMyBMIDIzLDYuMzcyIFYgMi43OCBDIDIzLDIuMzUgMjMuMzUsMiAyMy43OCwyIGggNi40MzkgQyAzMC42NSwyIDMxLDIuMzUgMzEsMi43OCB2IDMuNTkyIGwgMC43NzMsMC4xOCBjIDIuMjM3LDAuNTIxIDQuMzYsMS4zOTkgNi4zMTEsMi42MTMgbCAwLjY3NCwwLjQyIDIuNTM5LC0yLjUzOSBjIDAuMzA2LC0wLjMwNiAwLjgwMSwtMC4zMDQgMS4xMDQsMCBsIDQuNTUzLDQuNTUzIGMgMC4zMDUsMC4zMDUgMC4zMDUsMC44IDAsMS4xMDQgbCAtMi41MzksMi41MzkgMC40MiwwLjY3NCBjIDEuMjE0LDEuOTQ5IDIuMDkzLDQuMDcyIDIuNjEzLDYuMzExIEwgNDcuNjI4LDIzIGggMy41OTIgYyAwLjQzLDAgMC43OCwwLjM1IDAuNzgsMC43OCB6IgogICAgIHN0eWxlPSJmaWxsOiNhYWFhYmU7ZmlsbC1vcGFjaXR5OjEiIC8+PHBhdGgKICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgIGlkPSJwYXRoNiIKICAgICBkPSJtIDI3LDE3IGMgLTUuNTE0LDAgLTEwLDQuNDg2IC0xMCwxMCAwLDUuNTE0IDQuNDg2LDEwIDEwLDEwIDUuNTE0LDAgMTAsLTQuNDg2IDEwLC0xMCAwLC01LjUxNCAtNC40ODYsLTEwIC0xMCwtMTAgeiBtIDAsMTggYyAtNC40MTEsMCAtOCwtMy41ODkgLTgsLTggMCwtNC40MTEgMy41ODksLTggOCwtOCA0LjQxMSwwIDgsMy41ODkgOCw4IDAsNC40MTEgLTMuNTg5LDggLTgsOCB6IgogICAgIHN0eWxlPSJmaWxsOiM3ZDdkOTE7ZmlsbC1vcGFjaXR5OjEiIC8+PC9zdmc+';\n\n    this._dom.wrapper.appendChild(this._dom.header);\n    this._dom.wrapper.appendChild(this._dom.container);\n    this._dom.wrapper.appendChild(this._dom.options);\n\n    this._dom.fragment.appendChild(this._dom.wrapper);\n    this._target.appendChild(this._dom.fragment);\n  }\n\n  _events() {\n    this._dom.options.addEventListener('click', () => {\n      let a = this._target.querySelector(\"#listview-context\");\n      if (a !== null) {\n        a.remove();\n      }\n\n      else {\n        let context = document.createElement('DIV');\n        context.id ='listview-context';\n        this._dom.wrapper.appendChild(context);\n\n        this._fillContext(context);\n      }\n    });\n\n    window.addEventListener('resize', () => {\n      this._refreshGridColumn(this._computeGridTemplateColumns());\n    });\n  }\n\n  _refreshListView() {\n    let gridTemplateColumns = this._computeGridTemplateColumns(); // CSS grid rule\n    this._refreshHeader(gridTemplateColumns);\n    this._refreshContainer(gridTemplateColumns);\n  }\n\n  _refreshHeader(gridTemplateColumns) {\n    let fragment = document.createDocumentFragment();\n\n    this._dom.header.innerHTML = '';\n    this._dom.header.style.gridTemplateColumns = gridTemplateColumns; // Assign CSS rule\n\n    for (let i = 0; i < this._columns.length; ++i) { // Init listview header\n      this._columns[i].order = i;\n\n      let col = document.createElement('DIV');\n      let handle = document.createElement('DIV');\n\n      handle.classList.add('listview-resize-handle');\n      col.classList.add(this._columns[i].name.toLowerCase());\n      col.setAttribute('draggable', 'true');\n      col.innerHTML = this._columns[i].name;\n      col.dataset.id = i;\n\n      this._handleResizeEvents(handle, col);\n      this._handleDragEvents(col);\n\n      col.appendChild(handle);\n      fragment.appendChild(col);\n    }\n\n    this._dom.header.appendChild(fragment);\n  }\n\n  _handleResizeEvents(handle, parent) {\n    handle.addEventListener('mousedown', initialiseResize, false);\n    let marker = document.createElement('DIV');\n    marker.id = 'listview-resize-marker';\n\n        function initialiseResize(e) {\n            window.addEventListener('mousemove', startResizing, false);\n            window.addEventListener('mouseup', stopResizing, false);\n        }\n\n        let that = this;\n        function startResizing(e) {\n          that._dom.wrapper.appendChild(marker);\n          parent.style.width = ((e.clientX) - (parent.offsetLeft + that._target.offsetLeft)) + 'px'; // 4 is for the handle width\n          marker.style.left = ((e.clientX) - that._target.offsetLeft - 1) + 'px'; // ScrollBarWidth\n        }\n\n        function stopResizing(e) {\n          that._dom.wrapper.removeChild(marker);\n          for (let i = 0; i < that._columns.length; ++i) {\n            if (that._columns[i].name === parent.innerHTML.match(/.*?(?=<div class=\"listview-resize-handle\">|$)/i)[0]) {\n              that._columns[i].width = (parent.style.width.slice(0, -2) * 100 / that._dom.wrapper.clientWidth);\n            }\n          }\n\n          that._refreshGridColumn(that._computeGridTemplateColumns());\n            window.removeEventListener('mousemove', startResizing, false);\n            window.removeEventListener('mouseup', stopResizing, false);\n        }\n  }\n\n  _handleDragEvents(element) {\n    let that = this;\n\n    let addDnDHandlers = (elem) => {\n      element.addEventListener('dragstart', handleDragStart, false);\n      element.addEventListener('dragover', handleDragOver, false);\n      element.addEventListener('dragleave', handleDragLeave, false);\n      element.addEventListener('drop', handleDrop, false);\n      element.addEventListener('dragend', handleDragEnd, false);\n    }\n\n    let handleDragStart = function(e) {\n      // Target (this) element is the source node.\n      that._draggedColumn = this;\n\n      e.dataTransfer.effectAllowed = 'move';\n      e.dataTransfer.setData('text/html', this.outerHTML);\n\n      this.classList.add('dragElem');\n    }\n\n    let handleDragOver = function(e) {\n      if (e.preventDefault) {\n        e.preventDefault(); // Necessary. Allows us to drop.\n      }\n      this.classList.add('over');\n\n      e.dataTransfer.dropEffect = 'move';  // See the section on the DataTransfer object.\n\n      return false;\n    }\n\n    let handleDragLeave = function(e) {\n      this.classList.remove('over');  // this / e.target is previous target element.\n    }\n\n    let handleDrop = function(e) {\n      // this/e.target is current target element.\n\n      if (e.stopPropagation) {\n        e.stopPropagation(); // Stops some browsers from redirecting.\n      }\n\n      // Don't do anything if dropping the same column we're dragging.\n      if (that._draggedColumn != this) {\n        // Set the source column's HTML to the HTML of the column we dropped on.\n        //alert(this.outerHTML);\n        //dragSrcEl.innerHTML = this.innerHTML;\n        //this.innerHTML = e.dataTransfer.getData('text/html');\n        this.parentNode.removeChild(that._draggedColumn);\n        var dropHTML = e.dataTransfer.getData('text/html');\n        this.insertAdjacentHTML('beforebegin', dropHTML);\n        var dropElem = this.previousSibling;\n\n        function array_move(arr, old_index, new_index) {\n            if (new_index >= arr.length) {\n                var k = new_index - arr.length + 1;\n                while (k--) {\n                    arr.push(undefined);\n                }\n            }\n            arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\n            return arr; // for testing\n        };\n\n        array_move(that._columns, that._draggedColumn.dataset.id, this.dataset.id);\n        let stop = false;\n        for (let i = 0; i < that._dom.container.childNodes.length; ++i) {\n          for (let j = 0; j < that._dom.container.childNodes[i].childNodes.length; ++j) {\n            for (let k = 0; k < that._columns.length; ++k) {\n              if (that._dom.container.childNodes[i].childNodes[j].classList[0] === that._columns[k].name.toLowerCase()) {\n                if (that._dom.container.childNodes[i].childNodes[j].dataset.id !== k) {\n                  //console.log('toast');\n                  stop = true;\n                  that._dom.container.childNodes[i].insertBefore(that._dom.container.childNodes[i].childNodes[j], that._dom.container.childNodes[i].childNodes[k]);\n                  break;\n                }\n              }\n              if (stop) { stop = false; break; }\n            }\n          }\n        }\n\n        let gridTemplateColumns = that._computeGridTemplateColumns();\n        that._refreshHeader(gridTemplateColumns);\n        that._refreshGridColumn(gridTemplateColumns);\n      }\n\n      this.classList.remove('over');\n      return false;\n    }\n\n    let handleDragEnd = function(e) {\n      // this/e.target is the source node.\n      this.classList.remove('over');\n      this.classList.remove('dragElem');\n      that._draggedColumn = null;\n    }\n\n    addDnDHandlers(element);\n  }\n\n  _refreshGridColumn(gridTemplateColumns) {\n    this._refreshHeader(gridTemplateColumns);\n\n    for (let i = 0; i < this._dom.container.childNodes.length; ++i) {\n      this._dom.container.childNodes[i].style.gridTemplateColumns = gridTemplateColumns;\n    }\n  }\n\n  _refreshContainer(gridTemplateColumns) {\n    let fragment = document.createDocumentFragment();\n    this._dom.container = this._dom.container.parentNode.parentNode;\n    this._dom.container.innerHTML = '';\n\n    for (let i = 0; i < this._tracks.length; ++i) { // Init listview content depending on options object\n      let entry = document.createElement('DIV');\n      entry.classList.add('entry');\n      entry.style.gridTemplateColumns = gridTemplateColumns;\n\n      for (let j = 0; j < this._columns.length; ++j) {\n        let col = document.createElement('DIV');\n        col.classList.add(this._columns[j].name.toLowerCase());\n        col.innerHTML = this._tracks[i][this._columns[j].name.toLowerCase()];\n        entry.appendChild(col);\n      }\n\n      fragment.appendChild(entry);\n    }\n\n    this._dom.container.appendChild(fragment);\n\n    this._scrollBar = new ScrollBar({ target: this._dom.container });\n    this._dom.container = this._dom.container.firstChild.firstChild; // ScrollBar creates two wrappers\n  }\n\n  _computeGridTemplateColumns() {\n    let gridTemplateColumns = ''; // CSS grid rule\n\n    for (let i = 0; i < this._columns.length; ++i) { // Init listview header and CSS grid columns rule\n      gridTemplateColumns += (this._columns[i].width * (this._dom.wrapper.clientWidth / 100)) + 'px ';\n    }\n\n    return gridTemplateColumns;\n  }\n\n  _checkActivatedColumns() {\n    let activatedColumns = [];\n\n    for (let i = 0; i < this._columns.length; ++i) {\n      for (let j = 0; j < this._availableColumns.length; ++j) {\n        if (this._columns[i].name === this._availableColumns[j].name) {\n          activatedColumns.push(this._columns[i].name);\n        }\n      }\n    }\n\n    return activatedColumns;\n  }\n\n  _addColumn(column) {\n    if (this._checkActivatedColumns().indexOf(column.name) === -1) {\n      this._columns.push({\n        name: column.name,\n        width: column.width\n      });\n\n      this._refreshGridColumn(this._computeGridTemplateColumns());\n\n      for (let i = 0; i < this._dom.container.childNodes.length; ++i) {\n        let col = document.createElement('DIV');\n        col.classList.add(column.name.toLowerCase());\n        col.innerHTML = this._tracks[this._dom.container.childNodes[i].dataset.id][column.name.toLowerCase()];\n\n        this._dom.container.childNodes[i].appendChild(col);\n      }\n    }\n  }\n\n  _removeColumn(column) {\n    for (let i = this._columns.length - 1; i >= 0; --i) {\n      if (this._columns[i].name === column.name) {\n        this._columns.splice(i, 1);\n        break;\n      }\n    }\n\n    this._refreshGridColumn(this._computeGridTemplateColumns);\n\n    for (let i = 0; i < this._dom.container.childNodes.length; ++i) {\n      for (let j = 0; j < this._dom.container.childNodes[i].childNodes.length; ++j) {\n        if (this._dom.container.childNodes[i].childNodes[j].classList.contains(column.name.toLowerCase())) {\n          this._dom.container.childNodes[i].removeChild(this._dom.container.childNodes[i].childNodes[j]);\n        }\n      }\n    }\n  }\n\n  _toggleColumn(column) {\n    if (this._checkActivatedColumns().indexOf(column.name) === -1) {\n      this._addColumn(column);\n    }\n\n    else {\n      this._removeColumn(column);\n    }\n  }\n\n  _stretchColumns() {\n    this._startLoading();\n\n    setTimeout(() => {\n      let gridTemplateColumns = ''; // CSS grid rule\n\n      for (let i = 0; i < this._columns.length; ++i) { // Init listview header and CSS grid columns rule\n        gridTemplateColumns += `${((this._dom.wrapper.clientWidth / this._columns.length))}px `;\n      }\n\n      this._refreshGridColumn(gridTemplateColumns);\n      this._stopLoading();\n    }, 50);\n  }\n\n  _startLoading() {\n    let a = document.createElement('DIV');\n    a.id = 'listview-spinner';\n    this._dom.wrapper.appendChild(a);\n  }\n\n  _stopLoading() {\n    let a = this._target.querySelector(\"#listview-spinner\");\n    this._dom.wrapper.removeChild(a);\n  }\n\n  _fillContext(context) {\n    let activatedColumns = this._checkActivatedColumns();\n\n    for (let i = 0; i < this._availableColumns.length; ++i) {\n      let entry = document.createElement('DIV');\n      let text = document.createElement('LABEL');\n      let input = document.createElement('INPUT');\n\n      input.id = 'context-' + this._availableColumns[i].name;\n      text.innerHTML = this._availableColumns[i].name;\n      text.setAttribute('for', 'context-' + this._availableColumns[i].name);\n      input.setAttribute('type', 'checkbox');\n\n      if (activatedColumns.indexOf(this._availableColumns[i].name) !== -1) {\n        input.checked = true;\n      }\n\n      input.addEventListener('click', (event) => {\n        let name = event.target.id.match(/-(.*)/)[1];\n        let width = '';\n\n        this._startLoading();\n\n        for (let j = 0; j < this._availableColumns.length; ++j) {\n          if (this._availableColumns[j].name === name) {\n            width = this._availableColumns[j].width;\n            break;\n          }\n        }\n\n        setTimeout(() => {\n            this._toggleColumn({\n              name: name,\n              width: width\n            });\n            this._stopLoading();\n        }, 50);\n      });\n\n      entry.appendChild(input);\n      entry.appendChild(text);\n      context.appendChild(entry);\n    }\n\n    context.appendChild(document.createElement('HR'));\n\n    let stretch = document.createElement('BUTTON');\n    stretch.innerHTML = 'Stretch columns';\n    context.appendChild(stretch);\n\n    stretch.addEventListener('click', () => {\n      this._stretchColumns();\n    });\n  }\n\n  addTracks(tracks) {\n    this._refreshHeader(this._computeGridTemplateColumns());\n\n    let fragment = document.createDocumentFragment();\n    let gridTemplateColumns = this._computeGridTemplateColumns(); // CSS grid rule\n    let firstCall = this._tracks.length === 0 ? true : false;\n\n    for (let i = 0; i < tracks.length; ++i) { // Init listview content depending on options object\n      this._tracks.push(tracks[i]);\n\n      let entry = document.createElement('DIV');\n      entry.classList.add('entry');\n      entry.dataset.id = i;\n      entry.style.gridTemplateColumns = gridTemplateColumns;\n\n      for (let j = 0; j < this._columns.length; ++j) {\n        let col = document.createElement('DIV');\n        col.classList.add(this._columns[j].name.toLowerCase());\n        col.dataset.id = j;\n        col.innerHTML = tracks[i][this._columns[j].name.toLowerCase()];\n        entry.appendChild(col);\n      }\n\n      entry.addEventListener('dblclick', () => {\n        mzk.changeTrack(tracks[entry.dataset.id].id);\n      });\n\n      fragment.appendChild(entry);\n    }\n\n    this._dom.container.appendChild(fragment);\n\n    if (firstCall) {\n      this._scrollBar = new ScrollBar({ target: this._dom.container });\n      this._dom.container = this._dom.container.firstChild.firstChild; // ScrollBar creates two wrappers\n    }\n  }\n}\n\nexport default ListView;\n"],"sourceRoot":""}