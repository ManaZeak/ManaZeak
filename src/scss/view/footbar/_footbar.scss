@import 'playbackratebar';

#footbar {
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  height: $footbar-height;
  position: absolute;
  width: calc(100% - var(--mzk-aside-width));
  
  transition: width $mzk-animation-duration ease-in-out;
}

.footbar-track-preview {
  height: $footbar-height;
  width: $mzk-mp-aside-width;
}

.footbar-controls {
  background: $mzk-color-bg;
  display: flex;
  height: $footbar-height; // Defined in utils/tools/_variables.scss
  justify-content: center;
  width: 100%;
  z-index: 700;

  .left,
  .right {
    align-items: flex-end;
    display: flex;
    height: ($footbar-controls-height + $footbar-progress-height);
    width: $footbar-sides-width;

    p {
      height: $moodbar-height;
      line-height: $moodbar-height;
      opacity: 0;
      transition: opacity $footbar-transition linear;
    }
  }

  .left {
    justify-content: flex-end;

    p {
      margin-right: $margin;
    }
  }

  .center {
    height: 100%;
    max-width: 1000px;
    width: calc(100% - (#{$footbar-sides-width} * 2));

    #controls-container {
      align-items: center;
      display: flex;
      height: $footbar-controls-height;
      justify-content: center;
      width: 100%;
      position: relative;

      div.image-wrapper {
        cursor: pointer;
        height: 50%;
      }

      img {
        cursor: pointer;
        height: 100%;
        margin: 0 $footbar-controls-margin;
        user-select: none;
        -moz-user-select: none;

        #repeat {
          position: absolute;
          left: 0;
        }

        #shuffle {
          position: absolute;
          left: calc(#{$footbar-icons-size} + #{$footbar-controls-margin});
        }
      }

      .queue {
        position: absolute;
        right: 0;
        width: $footbar-icons-size;

        img {
          height: 100% !important;
        }
      }

      .speedometer {
        position: absolute;
        right: calc(#{$footbar-icons-size} + #{$footbar-controls-margin});
        width: $footbar-icons-size;

        img {
          height: 100% !important;
        }
      }

      .shuffle-left {
        position: absolute;
        left: calc(#{$footbar-icons-size} + #{2 * $footbar-controls-margin});
      }

      .repeat-left {
        position: absolute;
        left: 0;
      }

      @import 'volumebar'; // Loading volumebar rules

      .image-wrapper {
        #queue {
          position: absolute;
          right: 0;
          height: $footbar-controls-scale;
          margin: 0 $footbar-controls-margin;
        }

        &::before {
         content: attr(data-before); // To be retrieved in Js
         position:absolute;
         top: 5px;
         right: -10px;
         color: $mzk-color-primary;
         border-radius: 50%;
         height: 13px;
         width: 13px;
         font-size: 0.9em;
         text-align: center;
         text-shadow: #000 1px 0 5px;
        }
      }
    }

    @import 'progressbar'; // Loading progressbar rules
  }

  .right {
    p {
      margin-left: $margin;
    }
  }
}
